{"version":3,"sources":["webpack:///./src/components/dashboard/Dashboard.vue?f84e","webpack:///./src/components/dashboard/Dashboard.vue?f29e","webpack:///src/components/dashboard/Dashboard.vue","webpack:///./src/components/dashboard/Dashboard.vue?b10a","webpack:///./src/components/dashboard/Dashboard.vue?9f4d","webpack:///./src/services/conversion.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Dashboard_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Dashboard_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","wrap","ma-0","pa-0","row","staticClass","xs12","sm12","md3","lg3","iconName","count","adminsCount","countType","workersCount","conversionsCount","activePortsCount","justify-center","align-center","pa-1","staticRenderFns","CountCardVue","e","then","bind","CuationCardVue","Dashboardvue_type_script_lang_js_","name","components","sockets","onPortsListChanged","newListObject","onPortsListChangedCallback","computed","Object","objectSpread","vuex_esm","methods","data","SET_ACTIVE_PORTS_COUNT","keys","length","created","_this","parent","$parent","conversion","getConversionsCount","SET_CONVERSIONS_COUNT","agent","getAdminsCount","SET_ADMINS_COUNT","catch","error","showErrorSnackbar","ports","getConnectedPortsList","result","getAgentsCount","SET_WORKERS_COUNT","dashboard_Dashboardvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","url","ConversionServices","formData","Promise","_ref","_mnt_5056DE3D56DE238E_WorkSpace_Memoire_Versions_project_client_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","resolve","reject","_context","prev","next","axios","post","response","status","AgentServices","RefreshToken","ConvertImage","failure","request","message","stop","_x","_x2","apply","arguments","imageName","params","_ref2","_callee2","_context2","parameters","target","localStorage","id","QuickConvertImage","_x3","_x4","_ref3","_callee3","_context3","get","_x5","_x6"],"mappings":"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","file":"js/chunk-7da55a45.2365068f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"wrap\":\"\",\"ma-0\":\"\",\"pa-0\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"pb-1 mb-0\",attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md3\":\"\",\"lg3\":\"\"}},[_c('CountCardVue',{attrs:{\"iconName\":\"fas fa-crown\",\"count\":_vm.adminsCount,\"countType\":\"Admins\"}})],1),_c('v-flex',{staticClass:\"pb-1 mb-0\",attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md3\":\"\",\"lg3\":\"\"}},[_c('CountCardVue',{attrs:{\"iconName\":\"fas fa-hard-hat\",\"count\":_vm.workersCount,\"countType\":\"Workers\"}})],1),_c('v-flex',{staticClass:\"pb-1 mb-0\",attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md3\":\"\",\"lg3\":\"\"}},[_c('CountCardVue',{attrs:{\"iconName\":\"fas fa-recycle\",\"count\":_vm.conversionsCount,\"countType\":\"Conversions\"}})],1),_c('v-flex',{staticClass:\"pb-1 mb-0\",attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md3\":\"\",\"lg3\":\"\"}},[_c('CountCardVue',{attrs:{\"iconName\":\"fas fa-parking\",\"count\":_vm.activePortsCount,\"countType\":\"Connected Ports\"}})],1)],1),_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\",\"pa-1\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('CuationCardVue')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid wrap ma-0 pa-0>\n    <v-layout row wrap>\n      <!-- Simple Statistics -->\n      <v-flex xs12 sm12 md3 lg3 class=\"pb-1 mb-0\">\n        <CountCardVue iconName=\"fas fa-crown\" :count=\"adminsCount\" countType=\"Admins\"/>\n      </v-flex>\n      <v-flex xs12 sm12 md3 lg3 class=\"pb-1 mb-0\">\n        <CountCardVue iconName=\"fas fa-hard-hat\" :count=\"workersCount\" countType=\"Workers\"/>\n      </v-flex>\n      <v-flex xs12 sm12 md3 lg3 class=\"pb-1 mb-0\">\n        <CountCardVue iconName=\"fas fa-recycle\" :count=\"conversionsCount\" countType=\"Conversions\"/>\n      </v-flex>\n      <v-flex xs12 sm12 md3 lg3 class=\"pb-1 mb-0\">\n        <CountCardVue\n          iconName=\"fas fa-parking\"\n          :count=\"activePortsCount\"\n          countType=\"Connected Ports\"\n        />\n      </v-flex>\n    </v-layout>\n    <v-layout justify-center align-center pa-1>\n      <v-flex xs12>\n        <CuationCardVue/>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n<script>\nimport ConversionServices from \"@/services/conversion.js\";\nimport AgentsServices from \"@/services/agent.js\";\nimport PortsServices from \"@/services/ports.js\";\n\nimport { mapState, mapMutations } from \"vuex\";\n\nconst CountCardVue = () => import(\"@/components/dashboard/CountCard.vue\");\nconst CuationCardVue = () => import(\"@/components/dashboard/CuationCard.vue\");\n\nexport default {\n  name: \"dashboard\",\n  components: { CountCardVue, CuationCardVue },\n  sockets: {\n    onPortsListChanged(newListObject) {\n      this.onPortsListChangedCallback(newListObject);\n    }\n  },\n  computed: {\n    ...mapState([\n      \"adminsCount\",\n      \"workersCount\",\n      \"conversionsCount\",\n      \"activePortsCount\"\n    ])\n  },\n  methods: {\n    ...mapMutations([\n      \"SET_ADMINS_COUNT\",\n      \"SET_WORKERS_COUNT\",\n      \"SET_CONVERSIONS_COUNT\",\n      \"SET_ACTIVE_PORTS_COUNT\"\n    ]),\n    onPortsListChangedCallback(data) {\n      this.SET_ACTIVE_PORTS_COUNT(Object.keys(data).length);\n    }\n  },\n  created: function() {\n    // ! this is fucking none sense -_-, really\n    const parent = this.$parent.$parent.$parent;\n    ConversionServices.getConversionsCount()\n      .then(conversionsCount => {\n        if (this.conversionsCount != conversionsCount) {\n          this.SET_CONVERSIONS_COUNT(conversionsCount);\n        }\n        AgentsServices.getAdminsCount()\n          .then(adminsCount => {\n            if (this.adminsCount != adminsCount) {\n              this.SET_ADMINS_COUNT(adminsCount);\n            }\n          })\n          .catch(error => {\n            parent.showErrorSnackbar(error);\n          });\n        PortsServices.getConnectedPortsList()\n          .then(result => {\n            if (this.activePortsCount != result.count) {\n              this.SET_ACTIVE_PORTS_COUNT(result.count);\n            }\n          })\n          .catch(error => {\n            parent.showErrorSnackbar(error);\n          });\n        AgentsServices.getAgentsCount()\n          .then(count => {\n            if (this.workersCount != count) {\n              this.SET_WORKERS_COUNT(count);\n            }\n          })\n          .catch(error => {\n            parent.showErrorSnackbar(error);\n          });\n      })\n      .catch(error => {\n        parent.showErrorSnackbar(error);\n      });\n  }\n};\n</script>\n<style>\n.j-count-style {\n  font-size: 50pt;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=53117765&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\nimport AgentServices from \"./agent.js\";\n\nconst url = \"api/local/conversions\";\n\nclass ConversionServices {\n  static ConvertImage(formData) {\n    return new Promise(async (resolve, reject) => {\n      await axios\n        .post(url + \"/convert\", formData\n          // , {\n          // headers: {\n          //   Authorization: \"Bearer \" + localStorage.token\n          // }\n          // }\n        )\n        .then(result => {\n          resolve(result.data);\n        })\n        .catch(error => {\n          if (error.response) {\n            if (error.response.status == 406) {\n              AgentServices.RefreshToken()\n                .then(() => {\n                  resolve(ConversionServices.ConvertImage(formData));\n                })\n                .catch(error => {\n                  reject(error);\n                });\n            } else {\n              //? The request was made and the server responded with a status code\n              //? that falls out of the range of 2xx\n              reject(error.response.data.failure);\n            }\n          } else if (error.request) {\n            reject(\"Check you internet connection!\");\n          } else {\n            //? Something happened in setting up the request that triggered an Error\n            reject(error.message);\n          }\n        });\n    });\n  }\n  static QuickConvertImage(imageName, params) {\n    return new Promise(async (resolve, reject) => {\n      await axios\n        .post(url + \"/convert/quick\", {\n          parameters: params,\n          target: localStorage.id\n        }, {\n          params: {\n            imageName,\n            }\n          //   ,\n          // headers: {\n          //   Authorization: \"Bearer \" + localStorage.token\n          // }\n        })\n        .then(result => {\n          resolve(result.data);\n        })\n        .catch(error => {\n          if (error.response) {\n            if (error.response.status == 406) {\n              AgentServices.RefreshToken()\n                .then(() => {\n                  resolve(ConversionServices.QuickConvertImage(imageName, params));\n                })\n                .catch(error => {\n                  reject(error);\n                });\n            } else {\n              //? The request was made and the server responded with a status code\n              //? that falls out of the range of 2xx\n              reject(error.response.data.failure);\n            }\n          } else if (error.request) {\n            reject(\"Check you internet connection!\");\n          } else {\n            //? Something happened in setting up the request that triggered an Error\n            reject(error.message);\n          }\n        });\n    });\n  }\n  static getConversionsCount() {\n    return new Promise(async (resolve, reject) => {\n      await axios\n        .get(url + \"/count\"\n          // , {\n          // headers: {\n          //   Authorization: \"Bearer \" + localStorage.token\n          // }\n          // }\n        )\n        .then(result => {\n          resolve(result.data.count);\n        })\n        .catch(error => {\n          if (error.response) {\n            if (error.response.status == 406) {\n              AgentServices.RefreshToken()\n                .then(() => {\n                  resolve(ConversionServices.getConversionsCount());\n                })\n                .catch(error => {\n                  reject(error);\n                });\n            } else {\n              //? The request was made and the server responded with a status code\n              //? that falls out of the range of 2xx\n              reject(error.response.data.failure);\n            }\n          } else if (error.request) {\n            reject(\"Check you internet connection!\");\n          } else {\n            //? Something happened in setting up the request that triggered an Error\n            reject(error.message);\n          }\n        });\n    });\n  }\n}\n\nexport default ConversionServices;"],"sourceRoot":""}