{"version":3,"sources":["webpack:///./src/components/agents/WorkersTable.vue?49d1","webpack:///src/components/agents/WorkersTable.vue","webpack:///./src/components/agents/WorkersTable.vue?7dd6","webpack:///./src/components/agents/WorkersTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","color","value","type","_v","append-icon","label","single-line","hide-details","clearable","model","callback","$$v","search","expression","headers","items","agents","loading","item-key","scopedSlots","_u","key","fn","props","right","item","is_admin","x-small","proxy","_s","index","bottom","data","_g","small","text-color","on","first_name","last_name","toUpperCase","email","icon","click","$event","confirmResetingPassword","id","showConfirmDeleteDialog","slot","indeterminate","persistent","width","confirmeDeleteDialog","dark","large","left","selectedUserFullName","flat","cancelConfirmDeleteDialog","deleteAgent","confirmResetingPasswordDialog","resetAgentPassword","resetingPasswordDialog","active","loadingPass","newPass","hideResetPasswordDialog","staticRenderFns","WorkersTablevue_type_script_lang_js_","text","selectedAgentId","snackbarContent","snackbarColor","snackbar","sockets","onUserDeleted","removeDeletedUser","userId","onNewUserAdded","addNewUser","user","computed","fullName","i","length","concat","created","_created","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","refrechAgentsList","stop","apply","arguments","methods","push","splice","_refrechAgentsList","_callee2","_this","_context2","agent","getAgents","then","catch","error","$parent","showErrorSnackbar","_this2","deleteAgentById","result","showSuccessSnackbar","_this3","success","password","agents_WorkersTablevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAoBE,YAAA,mBAAAC,MAAA,CAAsCC,MAAA,mBAA0B,CAAAJ,EAAA,WAAgBE,YAAA,OAAAC,MAAA,CAA0BE,OAAA,EAAAD,MAAA,gBAAAE,KAAA,SAAoD,CAAAV,EAAAW,GAAA,yHAAAP,EAAA,gBAAAA,EAAA,YAAAA,EAAA,gBAAuLG,MAAA,CAAOK,cAAA,SAAAC,MAAA,SAAAL,MAAA,gBAAAM,cAAA,GAAAC,eAAA,GAAAC,UAAA,IAAkHC,MAAA,CAAQR,MAAAT,EAAA,OAAAkB,SAAA,SAAAC,GAA4CnB,EAAAoB,OAAAD,GAAeE,WAAA,aAAsB,GAAAjB,EAAA,gBAAyBE,YAAA,cAAAC,MAAA,CAAiCe,QAAAtB,EAAAsB,QAAAC,MAAAvB,EAAAwB,OAAAJ,OAAApB,EAAAoB,OAAAK,QAAAzB,EAAAyB,QAAAC,WAAA,SAAsGC,YAAA3B,EAAA4B,GAAA,EAAsBC,IAAA,QAAAC,GAAA,SAAAC,GAA+B,OAAA3B,EAAA,MAAAA,EAAA,WAA+BG,MAAA,CAAOyB,MAAA,GAAAxB,MAAA,eAAiCmB,YAAA3B,EAAA4B,GAAA,EAAsBC,IAAA,QAAAC,GAAA,WAA0B,UAAAC,EAAAE,KAAAC,SAAA9B,EAAA,QAAAA,EAAA,UAA8DG,MAAA,CAAO4B,UAAA,GAAA3B,MAAA,kBAAsC,CAAAR,EAAAW,GAAA,sBAAAP,EAAA,QAAAA,EAAA,UAAuDG,MAAA,CAAO4B,UAAA,GAAA3B,MAAA,SAA6B,CAAAR,EAAAW,GAAA,2BAAmCyB,OAAA,IAAY,UAAa,CAAApC,EAAAW,GAAA,eAAAX,EAAAqC,GAAAN,EAAAE,KAAAK,OAAA,oBAAAP,EAAAE,KAAA,UAAA7B,EAAA,MAAqGE,YAAA,kBAA6B,CAAAF,EAAA,aAAkBG,MAAA,CAAOgC,OAAA,IAAYZ,YAAA3B,EAAA4B,GAAA,EAAsBC,IAAA,YAAAC,GAAA,SAAAU,GAAkC,OAAApC,EAAA,SAAAJ,EAAAyC,GAAA,CAA4BlC,MAAA,CAAOmC,MAAA,GAAAC,aAAA,kBAAyCH,EAAAI,IAAA,CAAAxC,EAAA,UAAwBG,MAAA,CAAOmC,MAAA,KAAY,CAAA1C,EAAAW,GAAA,wBAA+B,UAAa,CAAAP,EAAA,QAAAJ,EAAAW,GAAA,4BAAAP,EAAA,MAAyDE,YAAA,kBAA6B,CAAAF,EAAA,aAAkBG,MAAA,CAAOgC,OAAA,IAAYZ,YAAA3B,EAAA4B,GAAA,EAAsBC,IAAA,YAAAC,GAAA,SAAAU,GAAkC,OAAApC,EAAA,SAAAJ,EAAAyC,GAAA,CAA4BlC,MAAA,CAAOmC,MAAA,GAAAC,aAAA,kBAAyCH,EAAAI,IAAA,CAAAxC,EAAA,UAAwBG,MAAA,CAAOmC,MAAA,KAAY,CAAA1C,EAAAW,GAAA,8BAAqC,UAAa,CAAAP,EAAA,QAAAJ,EAAAW,GAAA,gCAAAP,EAAA,MAAAJ,EAAAW,GAAAX,EAAAqC,GAAAN,EAAAE,KAAAY,eAAAzC,EAAA,MAAAJ,EAAAW,GAAAX,EAAAqC,GAAAN,EAAAE,KAAAa,UAAAC,kBAAA3C,EAAA,MAAAJ,EAAAW,GAAAX,EAAAqC,GAAAN,EAAAE,KAAAe,UAAA5C,EAAA,MAAAA,EAAA,aAAwOG,MAAA,CAAOgC,OAAA,IAAYZ,YAAA3B,EAAA4B,GAAA,EAAsBC,IAAA,YAAAC,GAAA,SAAAU,GAAkC,OAAApC,EAAA,QAAAJ,EAAAyC,GAAA,CAA2BlC,MAAA,CAAO0C,KAAA,IAAUL,GAAA,CAAKM,MAAA,SAAAC,GAAyB,OAAAnD,EAAAoD,wBAAArB,EAAAE,KAAAoB,OAAoDb,EAAAI,IAAA,CAAAxC,EAAA,UAAwBG,MAAA,CAAOmC,MAAA,GAAAlC,MAAA,kBAAoC,CAAAR,EAAAW,GAAA,8BAAqC,UAAa,CAAAP,EAAA,QAAAJ,EAAAW,GAAA,+CAAAP,EAAA,aAAmFG,MAAA,CAAOgC,OAAA,IAAYZ,YAAA3B,EAAA4B,GAAA,EAAsBC,IAAA,YAAAC,GAAA,SAAAU,GAAkC,OAAApC,EAAA,QAAAJ,EAAAyC,GAAA,CAA2BlC,MAAA,CAAO0C,KAAA,IAAUL,GAAA,CAAKM,MAAA,SAAAC,GAAyB,OAAAnD,EAAAsD,wBAAAvB,EAAAE,KAAAoB,OAAoDb,EAAAI,IAAA,CAAAxC,EAAA,UAAwBG,MAAA,CAAOmC,MAAA,GAAAlC,MAAA,iBAAmC,CAAAR,EAAAW,GAAA,+BAAsC,UAAa,CAAAP,EAAA,QAAAJ,EAAAW,GAAA,0CAA6D,CAAAP,EAAA,qBAA0BG,MAAA,CAAOgD,KAAA,WAAA/C,MAAA,gBAAAgD,cAAA,IAA6DD,KAAA,aAAiBnD,EAAA,WAAgBG,MAAA,CAAOgD,KAAA,aAAA9C,OAAA,EAAAD,MAAA,QAAAyC,KAAA,WAAkEM,KAAA,cAAmB,CAAAvD,EAAAW,GAAA,oBAAAX,EAAAqC,GAAArC,EAAAoB,QAAA,6BAAAhB,EAAA,YAA8FG,MAAA,CAAOkD,WAAA,GAAAC,MAAA,OAA8BzC,MAAA,CAAQR,MAAAT,EAAA,qBAAAkB,SAAA,SAAAC,GAA0DnB,EAAA2D,qBAAAxC,GAA6BE,WAAA,yBAAoC,CAAAjB,EAAA,UAAeG,MAAA,CAAOC,MAAA,iBAAAoD,KAAA,KAAoC,CAAAxD,EAAA,gBAAqBE,YAAA,sCAAiD,CAAAF,EAAA,UAAeG,MAAA,CAAOC,MAAA,gBAAAqD,MAAA,GAAAC,KAAA,KAA8C,CAAA9D,EAAAW,GAAA,+BAAAX,EAAAW,GAAA,gCAAAP,EAAA,aAAAA,EAAA,eAAiHE,YAAA,+DAA0E,CAAAN,EAAAW,GAAA,iCAAAP,EAAA,QAAqDE,YAAA,oBAA+B,CAAAN,EAAAW,GAAAX,EAAAqC,GAAArC,EAAA+D,yBAAA/D,EAAAW,GAAA,QAAAP,EAAA,kBAAAA,EAAA,SAA6FE,YAAA,uBAAAC,MAAA,CAA0CyD,KAAA,IAAUpB,GAAA,CAAKM,MAAA,SAAAC,GAAyB,OAAAnD,EAAAiE,+BAAyC,CAAAjE,EAAAW,GAAA,YAAAP,EAAA,YAAAA,EAAA,SAAgDE,YAAA,cAAAC,MAAA,CAAiCC,MAAA,iBAAwBoC,GAAA,CAAKM,MAAA,SAAAC,GAAyB,OAAAnD,EAAAkE,iBAA2B,CAAAlE,EAAAW,GAAA,qBAAAP,EAAA,YAA6CG,MAAA,CAAOkD,WAAA,GAAAC,MAAA,OAA8BzC,MAAA,CAAQR,MAAAT,EAAA,8BAAAkB,SAAA,SAAAC,GAAmEnB,EAAAmE,8BAAAhD,GAAsCE,WAAA,kCAA6C,CAAAjB,EAAA,UAAeG,MAAA,CAAOC,MAAA,iBAAAoD,KAAA,KAAoC,CAAAxD,EAAA,gBAAqBE,YAAA,sCAAiD,CAAAN,EAAAW,GAAA,2BAAAP,EAAA,eAAsDE,YAAA,+CAA0D,CAAAN,EAAAW,GAAA,+EAAAP,EAAA,QAAmGE,YAAA,sBAAiC,CAAAN,EAAAW,GAAAX,EAAAqC,GAAArC,EAAA+D,yBAAA/D,EAAAW,GAAA,eAAAP,EAAA,kBAAAA,EAAA,SAAoGE,YAAA,aAAAC,MAAA,CAAgCyD,KAAA,IAAUpB,GAAA,CAAKM,MAAA,SAAAC,GAAyBnD,EAAAmE,+BAAA,KAA4C,CAAAnE,EAAAW,GAAA,WAAAP,EAAA,YAAAA,EAAA,SAA+CE,YAAA,cAAAC,MAAA,CAAiCC,MAAA,iBAAwBoC,GAAA,CAAKM,MAAA,SAAAC,GAAyB,OAAAnD,EAAAoE,wBAAkC,CAAApE,EAAAW,GAAA,uBAAAP,EAAA,YAA+CG,MAAA,CAAOkD,WAAA,GAAAC,MAAA,OAA8BzC,MAAA,CAAQR,MAAAT,EAAA,uBAAAkB,SAAA,SAAAC,GAA4DnB,EAAAqE,uBAAAlD,GAA+BE,WAAA,2BAAsC,CAAAjB,EAAA,UAAeG,MAAA,CAAOC,MAAA,iBAAAoD,KAAA,KAAoC,CAAAxD,EAAA,gBAAqBE,YAAA,sCAAiD,CAAAN,EAAAW,GAAA,2BAAAP,EAAA,qBAA4DE,YAAA,YAAAC,MAAA,CAA+BiD,cAAA,GAAAhD,MAAA,gBAAA8D,OAAAtE,EAAAuE,eAAqEnE,EAAA,eAAoBE,YAAA,yDAAoE,CAAAN,EAAAW,GAAA,yCAAAP,EAAA,QAA6DE,YAAA,gCAA2C,CAAAN,EAAAW,GAAAX,EAAAqC,GAAArC,EAAAwE,cAAApE,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAkFE,YAAA,cAAAC,MAAA,CAAiCC,MAAA,iBAAwBoC,GAAA,CAAKM,MAAA,SAAAC,GAAyB,OAAAnD,EAAAyE,6BAAuC,CAAAzE,EAAAW,GAAA,yBACnlM+D,EAAA,uCCuJAC,EAAA,CACAnC,KADA,WAEA,OACApB,OAAA,GACA+C,+BAAA,EACAE,wBAAA,EACAG,QAAA,eACAD,aAAA,EACA9C,SAAA,EACAkC,sBAAA,EACArC,QAAA,CACA,CAAAsD,KAAA,IAAAnE,MAAA,SACA,CAAAmE,KAAA,aAAAnE,MAAA,aACA,CACAmE,KAAA,aACAnE,MAAA,cAEA,CAAAmE,KAAA,YAAAnE,MAAA,aACA,CAAAmE,KAAA,QAAAnE,MAAA,SACA,CAAAmE,KAAA,aAAAnE,MAAA,WAEAe,OAAA,GACAqD,iBAAA,EACAC,gBAAA,GACAC,cAAA,GACAC,UAAA,IAGAC,QAAA,CACAC,cADA,SACA1C,GACAvC,KAAAkF,kBAAA3C,EAAA4C,SAEAC,eAJA,SAIA7C,GACAvC,KAAAqF,WAAA9C,EAAA+C,QAGAC,SAAA,CACAzB,qBADA,WAGA,IADA,IAAA0B,EAAA,GACAC,EAAA,EAAAA,EAAAzF,KAAAuB,OAAAmE,OAAAD,IACA,GAAAzF,KAAAuB,OAAAkE,GAAArC,IAAApD,KAAA4E,gBAAA,CACAY,EAAA,GAAAG,OAAA3F,KAAAuB,OAAAkE,GAAA5C,UAAAC,cAAA,KAAA6C,OACA3F,KAAAuB,OAAAkE,GAAA7C,YAEA,MAGA,OAAA4C,IAGAI,QAlDA,eAAAC,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,IAAA,OAAAF,mBAAAG,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAmDAtG,KAAAuG,oBAnDA,wBAAAH,EAAAI,SAAAN,EAAAlG,SAAA,SAAA4F,IAAA,OAAAC,EAAAY,MAAAzG,KAAA0G,WAAA,OAAAd,EAAA,GAqDAe,QAAA,CACAtB,WADA,SACAC,GACAtF,KAAAuB,OAAAqF,KAAAtB,IAEAJ,kBAJA,SAIA9B,GACA,QAAAqC,EAAA,EAAAA,EAAAzF,KAAAuB,OAAAmE,OAAAD,IACA,GAAAzF,KAAAuB,OAAAkE,GAAArC,MAAA,CACApD,KAAAuB,OAAAsF,OAAApB,EAAA,GACA,QAIAtC,wBAZA,SAYAC,GACApD,KAAA4E,gBAAAxB,EACApD,KAAAkE,+BAAA,GAEAM,wBAhBA,WAiBAxE,KAAAoE,wBAAA,EACApE,KAAAuE,QAAA,gBAEAgC,kBApBA,eAAAO,EAAAhB,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAc,IAAA,IAAAC,EAAAhH,KAAA,OAAAgG,mBAAAG,KAAA,SAAAc,GAAA,eAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EAqBAY,EAAA,KAAAC,YACAC,KAAA,SAAA7F,GACAyF,EAAAzF,SACAyF,EAAAxF,SAAA,IAEA6F,MAAA,SAAAC,GACAN,EAAAO,QAAAC,kBAAAF,GACAN,EAAAxF,SAAA,IA5BA,wBAAAyF,EAAAT,SAAAO,MAAA,SAAAR,IAAA,OAAAO,EAAAL,MAAAzG,KAAA0G,WAAA,OAAAH,EAAA,GA+BAlD,wBA/BA,SA+BAD,GACApD,KAAA0D,sBAAA,EACA1D,KAAA4E,gBAAAxB,GAEAY,0BAnCA,WAoCAhE,KAAA0D,sBAAA,EACA1D,KAAA4E,iBAAA,GAEAX,YAvCA,WAuCA,IAAAwD,EAAAzH,MACA,GAAAA,KAAA4E,gBACA5E,KAAAuH,QAAAC,kBAAA,sBAEAN,EAAA,KAAAQ,gBAAA1H,KAAA4E,iBACAwC,KAAA,SAAAO,GACAF,EAAAzD;AACAyD,EAAAF,QAAAK,oBAAAD,KAEAN,MAAA,SAAAC,GACAG,EAAAF,QAAAC,kBAAAF,GACAG,EAAAjG,SAAA,KAIA2C,mBAtDA,WAsDA,IAAA0D,EAAA7H,KACAA,KAAAkE,+BAAA,EACAlE,KAAAoE,wBAAA,GACA,GAAApE,KAAA4E,gBACAsC,EAAA,KAAA/C,mBAAAnE,KAAA4E,iBACAwC,KAAA,SAAAO,GACAE,EAAAvD,aAAA,EACAuD,EAAAN,QAAAK,oBAAAD,EAAApF,KAAAuF,SACAD,EAAAtD,QAAAoD,EAAApF,KAAAwF,WAEAV,MAAA,SAAAC,GACAO,EAAAN,QAAAC,kBAAAF,KAGAtH,KAAAuH,QAAAC,kBAAA,0BCjRqWQ,EAAA,cCOrWC,EAAgBnC,OAAAoC,EAAA,KAAApC,CACdkC,EACAlI,EACA2E,GACF,EACA,KACA,KACA,MAIe0D,EAAA,WAAAF","file":"js/chunk-2d225433.29c74a06.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"pt-3 elevation-0\",attrs:{\"color\":\"teal lighten-5\"}},[_c('v-alert',{staticClass:\"mx-3\",attrs:{\"value\":true,\"color\":\"teal darken-1\",\"type\":\"info\"}},[_vm._v(\"Here you can find the list of all the users of the system, both workers and admins, with there status of activeness\")]),_c('v-card-title',[_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Search\",\"color\":\"teal darken-2\",\"single-line\":\"\",\"hide-details\":\"\",\"clearable\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-3\",attrs:{\"headers\":_vm.headers,\"items\":_vm.agents,\"search\":_vm.search,\"loading\":_vm.loading,\"item-key\":\"index\"},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_c('v-badge',{attrs:{\"right\":\"\",\"color\":\"transparent\"},scopedSlots:_vm._u([{key:\"badge\",fn:function(){return [(props.item.is_admin == true)?_c('span',[_c('v-icon',{attrs:{\"x-small\":\"\",\"color\":\"teal darken-3\"}},[_vm._v(\"fas fa-crown\")])],1):_c('span',[_c('v-icon',{attrs:{\"x-small\":\"\",\"color\":\"teal\"}},[_vm._v(\"fas fa-hard-hat\")])],1)]},proxy:true}],null,true)},[_vm._v(\"\\n          \"+_vm._s(props.item.index)+\"\\n        \")])],1),(props.item.is_active)?_c('td',{staticClass:\"text-lg-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(data){return [_c('v-chip',_vm._g({attrs:{\"small\":\"\",\"text-color\":\"teal darken-2\"}},data.on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-eye\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Worker is active\")])])],1):_c('td',{staticClass:\"text-lg-center\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(data){return [_c('v-chip',_vm._g({attrs:{\"small\":\"\",\"text-color\":\"grey darken-2\"}},data.on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-eye-slash\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Worker is not active\")])])],1),_c('td',[_vm._v(_vm._s(props.item.first_name))]),_c('td',[_vm._v(_vm._s(props.item.last_name.toUpperCase()))]),_c('td',[_vm._v(_vm._s(props.item.email))]),_c('td',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(data){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.confirmResetingPassword(props.item.id)}}},data.on),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"teal darken-2\"}},[_vm._v(\"fas fa-power-off\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Reset the password of this user account\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(data){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.showConfirmDeleteDialog(props.item.id)}}},data.on),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"red darken-2\"}},[_vm._v(\"fas fa-user-minus\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Delete This User Account\")])])],1)]}}])},[_c('v-progress-linear',{attrs:{\"slot\":\"progress\",\"color\":\"teal darken-2\",\"indeterminate\":\"\"},slot:\"progress\"}),_c('v-alert',{attrs:{\"slot\":\"no-results\",\"value\":true,\"color\":\"error\",\"icon\":\"warning\"},slot:\"no-results\"},[_vm._v(\"Your search for \\\"\"+_vm._s(_vm.search)+\"\\\" found no results.\")])],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"500\"},model:{value:(_vm.confirmeDeleteDialog),callback:function ($$v) {_vm.confirmeDeleteDialog=$$v},expression:\"confirmeDeleteDialog\"}},[_c('v-card',{attrs:{\"color\":\"teal lighten-5\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"teal--text text--darken-2 headline\"},[_c('v-icon',{attrs:{\"color\":\"teal darken-2\",\"large\":\"\",\"left\":\"\"}},[_vm._v(\"fas fa-exclamation-circle\")]),_vm._v(\"Confirm Deletion\\n      \")],1),_c('v-divider'),_c('v-card-text',{staticClass:\"font-weight-meduim teal lighten-5 teal--text text--darken-2\"},[_vm._v(\"Confirm the deletion of user \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.selectedUserFullName))]),_vm._v(\" ?\")]),_c('v-card-actions',[_c('v-btn',{staticClass:\"teal--text lighten-1\",attrs:{\"flat\":\"\"},on:{\"click\":function($event){return _vm.cancelConfirmDeleteDialog()}}},[_vm._v(\"Cancel\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"red lighten-1\"},on:{\"click\":function($event){return _vm.deleteAgent()}}},[_vm._v(\"Yes\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"500\"},model:{value:(_vm.confirmResetingPasswordDialog),callback:function ($$v) {_vm.confirmResetingPasswordDialog=$$v},expression:\"confirmResetingPasswordDialog\"}},[_c('v-card',{attrs:{\"color\":\"teal lighten-5\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"teal--text text--darken-2 headline\"},[_vm._v(\"Worker Password Reset\")]),_c('v-card-text',{staticClass:\"font-weight-light teal--text text--darken-4\"},[_vm._v(\"\\n        Are you sure you want to reset the password of the user\\n        \"),_c('span',{staticClass:\"font-weight-medium\"},[_vm._v(_vm._s(_vm.selectedUserFullName))]),_vm._v(\"?\\n      \")]),_c('v-card-actions',[_c('v-btn',{staticClass:\"teal--text\",attrs:{\"flat\":\"\"},on:{\"click\":function($event){_vm.confirmResetingPasswordDialog = false}}},[_vm._v(\"Close\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"red lighten-1\"},on:{\"click\":function($event){return _vm.resetAgentPassword()}}},[_vm._v(\"Reset\")])],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"width\":\"500\"},model:{value:(_vm.resetingPasswordDialog),callback:function ($$v) {_vm.resetingPasswordDialog=$$v},expression:\"resetingPasswordDialog\"}},[_c('v-card',{attrs:{\"color\":\"teal lighten-5\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"teal--text text--darken-2 headline\"},[_vm._v(\"Worker Password Reset\")]),_c('v-progress-linear',{staticClass:\"pa-0 mb-0\",attrs:{\"indeterminate\":\"\",\"color\":\"teal darken-2\",\"active\":_vm.loadingPass}}),_c('v-card-text',{staticClass:\"font-weight-light teal--text text--darken-4 py-0 mb-0\"},[_vm._v(\"\\n        The new password:\\n        \"),_c('span',{staticClass:\"font-weight-medium red--text\"},[_vm._v(_vm._s(_vm.newPass))])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"teal darken-2\"},on:{\"click\":function($event){return _vm.hideResetPasswordDialog()}}},[_vm._v(\"Ok\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"pt-3 elevation-0\" color=\"teal lighten-5\">\n    <!-- icon=\"check_circle\" -->\n    <v-alert\n      :value=\"true\"\n      color=\"teal darken-1\"\n      type=\"info\"\n      class=\"mx-3\"\n    >Here you can find the list of all the users of the system, both workers and admins, with there status of activeness</v-alert>\n    <v-card-title>\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"search\"\n        label=\"Search\"\n        color=\"teal darken-2\"\n        single-line\n        hide-details\n        clearable\n      ></v-text-field>\n    </v-card-title>\n    <v-data-table\n      class=\"elevation-3\"\n      :headers=\"headers\"\n      :items=\"agents\"\n      :search=\"search\"\n      :loading=\"loading\"\n      item-key=\"index\"\n    >\n      <v-progress-linear slot=\"progress\" color=\"teal darken-2\" indeterminate></v-progress-linear>\n      <template slot=\"items\" slot-scope=\"props\">\n        <td>\n          <v-badge right color=\"transparent\">\n            <template v-slot:badge>\n              <span v-if=\"props.item.is_admin == true\">\n                <v-icon x-small color=\"teal darken-3\">fas fa-crown</v-icon>\n              </span>\n              <span v-else>\n                <v-icon x-small color=\"teal\">fas fa-hard-hat</v-icon>\n              </span>\n            </template>\n            {{ props.item.index }}\n          </v-badge>\n        </td>\n        <!-- <td>{{props.item.is_admin}}</td> -->\n        <td class=\"text-lg-center\" v-if=\"props.item.is_active\">\n          <v-tooltip bottom>\n            <template #activator=\"data\">\n              <v-chip small text-color=\"teal darken-2\" v-on=\"data.on\">\n                <v-icon small>fas fa-eye</v-icon>\n              </v-chip>\n            </template>\n            <span>Worker is active</span>\n          </v-tooltip>\n        </td>\n        <td class=\"text-lg-center\" v-else>\n          <v-tooltip bottom>\n            <template #activator=\"data\">\n              <v-chip small text-color=\"grey darken-2\" v-on=\"data.on\">\n                <v-icon small>fas fa-eye-slash</v-icon>\n              </v-chip>\n            </template>\n            <span>Worker is not active</span>\n          </v-tooltip>\n        </td>\n        <td>{{ props.item.first_name }}</td>\n        <td>{{ props.item.last_name.toUpperCase() }}</td>\n        <td>{{ props.item.email }}</td>\n        <td>\n          <v-tooltip bottom>\n            <template #activator=\"data\">\n              <v-btn icon @click=\"confirmResetingPassword(props.item.id)\" v-on=\"data.on\">\n                <v-icon small color=\"teal darken-2\">fas fa-power-off</v-icon>\n              </v-btn>\n            </template>\n            <span>Reset the password of this user account</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <template #activator=\"data\">\n              <v-btn icon @click=\"showConfirmDeleteDialog(props.item.id)\" v-on=\"data.on\">\n                <v-icon small color=\"red darken-2\">fas fa-user-minus</v-icon>\n              </v-btn>\n            </template>\n            <span>Delete This User Account</span>\n          </v-tooltip>\n        </td>\n      </template>\n      <v-alert\n        slot=\"no-results\"\n        :value=\"true\"\n        color=\"error\"\n        icon=\"warning\"\n      >Your search for \"{{ search }}\" found no results.</v-alert>\n    </v-data-table>\n    <!-- Worker delete confirmation dialog -->\n    <v-dialog v-model=\"confirmeDeleteDialog\" persistent width=\"500\">\n      <v-card color=\"teal lighten-5\" dark>\n        <v-card-title class=\"teal--text text--darken-2 headline\">\n          <v-icon color=\"teal darken-2\" large left>fas fa-exclamation-circle</v-icon>Confirm Deletion\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text\n          class=\"font-weight-meduim teal lighten-5 teal--text text--darken-2\"\n        >Confirm the deletion of user <span class=\"font-weight-bold\">{{selectedUserFullName}}</span> ?</v-card-text>\n        <v-card-actions>\n          <v-btn flat @click=\"cancelConfirmDeleteDialog()\" class=\"teal--text lighten-1\">Cancel</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn @click=\"deleteAgent()\" color=\"red lighten-1\" class=\"white--text\">Yes</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <!-- Reset password confirmation -->\n    <v-dialog v-model=\"confirmResetingPasswordDialog\" persistent width=\"500\">\n      <v-card color=\"teal lighten-5\" dark>\n        <v-card-title class=\"teal--text text--darken-2 headline\">Worker Password Reset</v-card-title>\n        <v-card-text class=\"font-weight-light teal--text text--darken-4\">\n          Are you sure you want to reset the password of the user\n          <span class=\"font-weight-medium\">{{selectedUserFullName}}</span>?\n        </v-card-text>\n        <v-card-actions>\n          <v-btn flat @click=\"confirmResetingPasswordDialog = false\" class=\"teal--text\">Close</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red lighten-1\" class=\"white--text\" @click=\"resetAgentPassword()\">Reset</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <!-- Reset password dialog -->\n    <v-dialog v-model=\"resetingPasswordDialog\" persistent width=\"500\">\n      <v-card color=\"teal lighten-5\" dark>\n        <v-card-title class=\"teal--text text--darken-2 headline\">Worker Password Reset</v-card-title>\n        <v-progress-linear\n          indeterminate\n          color=\"teal darken-2\"\n          class=\"pa-0 mb-0\"\n          :active=\"loadingPass\"\n        ></v-progress-linear>\n        <v-card-text class=\"font-weight-light teal--text text--darken-4 py-0 mb-0\">\n          The new password:\n          <span class=\"font-weight-medium red--text\">{{newPass}}</span>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"teal darken-2\" class=\"white--text\" @click=\"hideResetPasswordDialog()\">Ok</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-card>\n</template>\n<script>\nimport AgentServices from \"@/services/agent.js\";\n// import { mapMutations } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      search: \"\",\n      confirmResetingPasswordDialog: false,\n      resetingPasswordDialog: false,\n      newPass: \"Reseting ...\",\n      loadingPass: true,\n      loading: true,\n      confirmeDeleteDialog: false,\n      headers: [\n        { text: \"#\", value: \"index\" },\n        { text: \"Activeness\", value: \"is_active\" },\n        {\n          text: \"First Name\",\n          value: \"first_name\"\n        },\n        { text: \"Last Name\", value: \"last_name\" },\n        { text: \"Email\", value: \"email\" },\n        { text: \"Operations\", value: \"delete\" }\n      ],\n      agents: [],\n      selectedAgentId: -1,\n      snackbarContent: \"\",\n      snackbarColor: \"\",\n      snackbar: false\n    };\n  },\n  sockets: {\n    onUserDeleted(data) {\n      this.removeDeletedUser(data.userId);\n    },\n    onNewUserAdded(data) {\n      this.addNewUser(data.user);\n    }\n  },\n  computed: {\n    selectedUserFullName() {\n      let fullName = \"\";\n      for (let i = 0; i < this.agents.length; i++) {\n        if (this.agents[i].id == this.selectedAgentId) {\n          fullName = `${this.agents[i].last_name.toUpperCase()} ${\n            this.agents[i].first_name\n          }`;\n          break;\n        }\n      }\n      return fullName;\n    }\n  },\n  async created() {\n    this.refrechAgentsList();\n  },\n  methods: {\n    addNewUser(user) {\n      this.agents.push(user);\n    },\n    removeDeletedUser(id) {\n      for (let i = 0; i < this.agents.length; i++) {\n        if (this.agents[i].id == id) {\n          this.agents.splice(i, 1);\n          break;\n        }\n      }\n    },\n    confirmResetingPassword(id) {\n      this.selectedAgentId = id;\n      this.confirmResetingPasswordDialog = true;\n    },\n    hideResetPasswordDialog() {\n      this.resetingPasswordDialog = false;\n      this.newPass = \"Reseting ...\";\n    },\n    async refrechAgentsList() {\n      await AgentServices.getAgents()\n        .then(agents => {\n          this.agents = agents;\n          this.loading = false;\n        })\n        .catch(error => {\n          this.$parent.showErrorSnackbar(error);\n          this.loading = false;\n        });\n    },\n    showConfirmDeleteDialog(id) {\n      this.confirmeDeleteDialog = true;\n      this.selectedAgentId = id;\n    },\n    cancelConfirmDeleteDialog() {\n      this.confirmeDeleteDialog = false;\n      this.selectedAgentId = -1;\n    },\n    deleteAgent() {\n      if (this.selectedAgentId == -1) {\n        this.$parent.showErrorSnackbar(\"Invalide agent id!\");\n      } else {\n        AgentServices.deleteAgentById(this.selectedAgentId)\n          .then(result => {\n            this.cancelConfirmDeleteDialog(); //! just to hide it\n            this.$parent.showSuccessSnackbar(result);\n          })\n          .catch(error => {\n            this.$parent.showErrorSnackbar(error);\n            this.loading = false;\n          });\n      }\n    },\n    resetAgentPassword() {\n      this.confirmResetingPasswordDialog = false;\n      this.resetingPasswordDialog = true;\n      if (this.selectedAgentId != -1) {\n        AgentServices.resetAgentPassword(this.selectedAgentId)\n          .then(result => {\n            this.loadingPass = false;\n            this.$parent.showSuccessSnackbar(result.data.success);\n            this.newPass = result.data.password;\n          })\n          .catch(error => {\n            this.$parent.showErrorSnackbar(error);\n          });\n      } else {\n        this.$parent.showErrorSnackbar(\"No id is selected!!\");\n      }\n    }\n  }\n};\n</script>\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkersTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkersTable.vue?vue&type=template&id=bc129be4&\"\nimport script from \"./WorkersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkersTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}