(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7c42"],{"77e1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pt-3 elevation-0",attrs:{color:"teal lighten-5"}},[a("v-alert",{staticClass:"mx-3",attrs:{value:!0,color:"teal darken-1",type:"info"}},[t._v("Here you can find the list of all the users of the system, both agnets and admins, with there status of activeness")]),a("v-card-title",[a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",color:"teal darken-2","single-line":"","hide-details":"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-3",attrs:{headers:t.headers,items:t.agents,search:t.search,loading:t.loading,"item-key":"index"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-badge",{attrs:{right:"",color:"transparent"},scopedSlots:t._u([{key:"badge",fn:function(){return[1==e.item.is_admin?a("span",[a("v-icon",{attrs:{"x-small":"",color:"teal darken-3"}},[t._v("fas fa-crown")])],1):a("span",[a("v-icon",{attrs:{"x-small":"",color:"teal"}},[t._v("fas fa-hard-hat")])],1)]},proxy:!0}],null,!0)},[t._v("\n          "+t._s(e.item.index)+"\n        ")])],1),e.item.is_active?a("td",{staticClass:"text-lg-center"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[a("v-chip",t._g({attrs:{small:"","text-color":"teal darken-2"}},e.on),[a("v-icon",{attrs:{small:""}},[t._v("fas fa-eye")])],1)]}}],null,!0)},[a("span",[t._v("Agent is active")])])],1):a("td",{staticClass:"text-lg-center"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[a("v-chip",t._g({attrs:{small:"","text-color":"grey darken-2"}},e.on),[a("v-icon",{attrs:{small:""}},[t._v("fas fa-eye-slash")])],1)]}}],null,!0)},[a("span",[t._v("Agent is not active")])])],1),a("td",[t._v(t._s(e.item.first_name))]),a("td",[t._v(t._s(e.item.last_name.toUpperCase()))]),a("td",[t._v(t._s(e.item.email))]),a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(a){return t.resetPassword(e.item.id)}}},n.on),[a("v-icon",{attrs:{small:"",color:"teal darken-2"}},[t._v("fas fa-power-off")])],1)]}}],null,!0)},[a("span",[t._v("Reset The Password Of This User Account")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(a){return t.showConfirmDeleteDialog(e.item.id)}}},n.on),[a("v-icon",{attrs:{small:"",color:"red darken-2"}},[t._v("fas fa-user-minus")])],1)]}}],null,!0)},[a("span",[t._v("Delete This User Account")])])],1)]}}])},[a("v-progress-linear",{attrs:{slot:"progress",color:"teal darken-2",indeterminate:""},slot:"progress"}),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('Your search for "'+t._s(t.search)+'" found no results.')])],1),a("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.confirmeDeleteDialog,callback:function(e){t.confirmeDeleteDialog=e},expression:"confirmeDeleteDialog"}},[a("v-card",{attrs:{color:"teal lighten-5",dark:""}},[a("v-card-title",{staticClass:"teal--text text--darken-2 headline"},[a("v-icon",{attrs:{color:"teal darken-2",large:"",left:""}},[t._v("fas fa-exclamation-circle")]),t._v("Confirm Deletion\n      ")],1),a("v-divider"),a("v-card-text",{staticClass:"font-weight-bold teal lighten-5 teal--text text--darken-2"},[t._v("Confirm the deletion of this agent?")]),a("v-card-actions",[a("v-btn",{staticClass:"teal--text lighten-1",attrs:{flat:""},on:{click:function(e){return t.cancelConfirmDeleteDialog()}}},[t._v("Cancel")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red lighten-1"},on:{click:function(e){return t.deleteAgent()}}},[t._v("Yes")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"teal lighten-5",dark:""}},[a("v-card-title",{staticClass:"teal--text text--darken-2 headline"},[t._v("Agent Password Reset")]),a("v-progress-linear",{staticClass:"pa-0 mb-0",attrs:{indeterminate:"",color:"teal darken-2",active:t.loadingPass}}),a("v-card-text",{staticClass:"font-weight-bold black--text"},[t._v(t._s(t.dialogContent))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"teal--text",attrs:{flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Ok")])],1)],1)],1)],1)},s=[],r=a("cebc"),o=(a("96cf"),a("3b8d")),i=a("1637"),l=a("2f62"),c={data:function(){return{search:"",dialog:!1,dialogContent:"Please stand by",loadingPass:!0,loading:!0,confirmeDeleteDialog:!1,headers:[{text:"#",value:"index"},{text:"Activeness",value:"is_active"},{text:"First Name",value:"first_name"},{text:"Last Name",value:"last_name"},{text:"Email",value:"email"},{text:"Operations",value:"delete"}],agents:[],selectedAgentId:-1,snackbarContent:"",snackbarColor:"",snackbar:!1}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.refrechAgentsList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),computed:{},methods:Object(r["a"])({},Object(l["b"])(["SHOW_SNACKBAR","TOGGLE_SB_VISIBILITY"]),{refrechAgentsList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].getAgents().then(function(t){e.agents=t,e.loading=!1}).catch(function(t){e.snackbar=!0,e.snackbarColor="error",e.snackbarContent=t,e.loading=!1});case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),showConfirmDeleteDialog:function(t){this.confirmeDeleteDialog=!0,this.selectedAgentId=t},cancelConfirmDeleteDialog:function(){this.confirmeDeleteDialog=!1,this.selectedAgentId=-1},deleteAgent:function(){var t=this;-1==this.selectedAgentId?this.showErrorSnackbar("Invalide agent id!"):i["a"].deleteAgentById(this.selectedAgentId).then(function(e){for(var a=0;a<t.agents.length;a++)t.agents[a].id==t.selectedAgentId&&t.agents.splice(a,1);t.cancelConfirmDeleteDialog(),//! just to hide it
t.showSuccessSnackbar(e)}).catch(function(e){t.showErrorSnackbar(e),t.loading=!1})},resetPassword:function(t){var e=this;this.dialog=!0,i["a"].resetAgentPassword(t).then(function(t){e.loadingPass=!1,e.snackbar=!0,e.snackbarColor="success",e.snackbarContent=t.data.success,e.dialogContent="The New Password is: "+t.data.password}).catch(function(t){e.snackbar=!0,e.snackbarColor="error",e.snackbarContent=t})},showSuccessSnackbar:function(t){var e=this;this.TOGGLE_SB_VISIBILITY(!0),this.SHOW_SNACKBAR({color:"success",content:t}),setTimeout(function(){e.TOGGLE_SB_VISIBILITY(!1)},5e3)},showErrorSnackbar:function(t){var e=this;this.TOGGLE_SB_VISIBILITY(!0),this.SHOW_SNACKBAR({color:"error",content:t}),setTimeout(function(){e.TOGGLE_SB_VISIBILITY(!1)},5e3)}})},d=c,u=a("2877"),v=Object(u["a"])(d,n,s,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0d7c42.6e26f506.js.map