(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)o=i[d],n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},"113c":function(t,e,s){t.exports=s.p+"img/default.1c1b3f6a.png"},"2b56":function(t,e,s){"use strict";var a=s("31f8"),n=s.n(a);n.a},"31f8":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],o=s("2877"),i={},c=Object(o["a"])(i,n,r,!1,null,null,null),l=c.exports,u=(s("a481"),s("8c4f")),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,fixed:"",app:"",absolute:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[s("v-list",{staticClass:"pa-0"},[s("v-list-tile",{attrs:{avatar:""}},[t.isAdmin?s("v-list-tile-avatar",[s("v-icon",{attrs:{color:"teal darker-2","x-large":""}},[t._v("fas fa-crown")])],1):s("v-list-tile-avatar",[s("v-icon",{attrs:{color:"teal darker-2","x-large":""}},[t._v("fas fa-hard-hat")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.fullName))])],1),s("v-list-tile-action",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{icon:"",ripple:"",small:""},on:{click:function(e){return t.launcheEditProfile()}}},a),[s("v-icon",{attrs:{small:"",color:"grey"}},[t._v("fas fa-user-edit")])],1)]}}])},[s("span",[t._v("Edit profile data")])])],1)],1)],1)],1),s("v-divider"),s("div",{staticClass:"hidden-md-and-up"},[s("v-list",{staticClass:"pt-0",attrs:{dense:""}},[s("v-list-tile",{attrs:{to:"/dashboard"}},[s("v-list-tile-action",[s("v-icon",{attrs:{left:""}},[t._v("fas fa-tachometer-alt")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Dashboard")])],1)],1),1==t.isAdmin?s("v-list-tile",{attrs:{to:"/agents"}},[s("v-list-tile-action",[s("v-icon",{attrs:{left:""}},[t._v("fas fa-hard-hat")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Agents")])],1)],1):t._e(),s("v-list-tile",{attrs:{to:"/images"}},[s("v-list-tile-action",[s("v-icon",{attrs:{left:""}},[t._v("fas fa-recycle")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Converter")])],1)],1),s("v-list-tile",{attrs:{to:"/resources"}},[s("v-list-tile-action",[s("v-icon",{attrs:{left:""}},[t._v("fas fa-boxes")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Resources")])],1)],1),s("v-list-tile",{on:{click:function(e){return t.performLogout()}}},[s("v-list-tile-action",[s("v-icon",{attrs:{left:""}},[t._v("fas fa-sign-out-alt")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Logout")])],1)],1)],1)],1),s("v-divider"),s("v-list",{staticClass:"pt-0",attrs:{dense:""}},[0!=t.portsCount?s("v-list-group",{attrs:{"prepend-icon":"fas fa-parking",value:"true"},scopedSlots:t._u([{key:"activator",fn:function(){return[s("v-list-tile",[s("v-list-tile-title",[t._v("Ports")])],1)]},proxy:!0}])},t._l(t.portsList,function(e,a){return s("v-list-tile",{key:a,on:{click:function(s){return t.showPortPanel(e)}}},[s("v-list-tile-avatar",[s("h6",{staticClass:"text--teal"},[t._v(t._s(a))])]),s("v-list-tile-content",[s("v-list-tile-title",{domProps:{textContent:t._s(e.comName)}})],1)],1)}),1):s("v-list-tile",[s("v-list-tile-action",[s("v-icon",{attrs:{color:"red"}},[t._v("fas fa-exclamation-circle")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v("No port is active")])],1)],1)],1)],1),s("v-toolbar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,color:"teal darken-3",dark:"",app:"",fixed:""}},[s("v-toolbar-title",{staticClass:"ml-0 pl-0"},[s("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("span",{staticClass:"center"},[t._v("CNC System")])],1),s("v-spacer"),s("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({staticClass:"m-0",attrs:{flat:"",to:"/dashboard"}},e.on),[s("v-icon",{attrs:{left:""}},[t._v("fas fa-tachometer-alt")]),t._v("Dashboard\n          ")],1)]}}])},[s("span",[t._v("Moniter the system and control it's data")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([1==t.isAdmin?{key:"activator",fn:function(e){return[s("v-btn",t._g({staticClass:"m-0",attrs:{flat:"",to:"/agents"}},e.on),[t._v("Agents")])]}}:null],!0)},[s("span",[t._v("Consult agents list and perform same agent account operations")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({staticClass:"m-0",attrs:{flat:"",to:"/images"}},e.on),[t._v("Converter")])]}}])},[s("span",[t._v("Convert image into gcode and transmit the file to machine")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{flat:"",to:"/resources"}},e.on),[t._v("Resources")])]}}])},[s("span",[t._v("Consult directory tree of all the resources in the server")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{flat:""},on:{click:t.performLogout}},e.on),[s("v-icon",{attrs:{left:"",color:"white"}},[t._v("fas fa-sign-out-alt")]),t._v("Logout\n          ")],1)]}}])},[s("span",[t._v("logout")])])],1)],1),s("v-content",[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("router-view")],1)],1)],1),s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-dialog",{attrs:{persistent:"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:t.doShowPortPanel,callback:function(e){t.doShowPortPanel=e},expression:"doShowPortPanel"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"teal lighten-1"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.doShowPortPanel=!1}}},[s("v-icon",[t._v("close")])],1),s("v-toolbar-title",[t._v("Port Panel")]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:"",disabled:t.openPortDis},on:{click:function(e){return t.openPort(t.selectedPortObject.comName)}}},[s("v-icon",{attrs:{left:""}},[t._v("fas fa-door-open")]),t._v("Open Port\n            ")],1)],1),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:"",disabled:t.closePortDis},on:{click:function(e){return t.closePort(t.selectedPortObject.comName)}}},[s("v-icon",{attrs:{left:""}},[t._v("fas fa-times-circle")]),t._v("Close Port\n            ")],1)],1),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:"",disabled:t.flushPortDis},on:{click:function(e){return t.flushPort(t.selectedPortObject.comName)}}},[s("v-icon",{attrs:{left:""}},[t._v("fas fa-arrow-alt-circle-down")]),t._v("Flush Data\n            ")],1)],1),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:"",disabled:t.resumePortDis},on:{click:function(e){return t.resumePort(t.selectedPortObject.comName)}}},[s("v-icon",{attrs:{left:""}},[t._v("fas fa-play-circle")]),t._v("Resume Data\n            ")],1)],1),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:"",disabled:t.pausePortDis},on:{click:function(e){return t.pausePort(t.selectedPortObject.comName)}}},[s("v-icon",{attrs:{left:""}},[t._v("fas fa-pause-circle")]),t._v("Pause Data\n            ")],1)],1)],1),s("v-alert",{staticClass:"mx-3",attrs:{value:!0,type:"info",transition:"fade-transition"}},[t._v('Only "Port Name" is guaranteed 100%, other information is related to the connected device of the current port.')]),void 0!=t.selectedPortObject?s("v-list",[s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v("Port Name")]),s("v-list-tile-sub-title",[t._v(t._s(t.selectedPortObject.comName))])],1)],1),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v("Manufacturer")]),s("v-list-tile-sub-title",[t._v(t._s(t.selectedPortObject.manufacturer))])],1)],1),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v("Serial Number")]),s("v-list-tile-sub-title",[t._v(t._s(t.selectedPortObject.serialNumber))])],1)],1),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v("Plug and Play ID")]),s("v-list-tile-sub-title",[t._v(t._s(t.selectedPortObject.pnpId))])],1)],1),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v("Procudt ID")]),s("v-list-tile-sub-title",[t._v(t._s(t.selectedPortObject.productId))])],1)],1),s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v("Vendor ID")]),s("v-list-tile-sub-title",[t._v(t._s(t.selectedPortObject.vendorId))])],1)],1)],1):t._e(),s("v-divider"),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"","px-3":""}},[s("v-toolbar",{staticClass:"mt-2",attrs:{color:"teal",card:"",dark:""}},[s("v-text-field",{staticClass:"pt-2",attrs:{dark:"",label:"Commands","solo-inverted":""},model:{value:t.writeToPortTextField,callback:function(e){t.writeToPortTextField=e},expression:"writeToPortTextField"}}),s("v-fade-transition",[""!=t.writeToPortTextField?s("v-btn",{attrs:{icon:""},on:{click:function(e){return t.sendCommandToPort(t.selectedPortObject.comName)}}},[s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-paper-plane")])],1):t._e()],1),s("v-btn",{attrs:{icon:""},on:{click:function(e){return t.clearPortConsole()}}},[s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-eraser")])],1)],1)],1),s("v-flex",{attrs:{xs12:"","pb-3":""}},[s("v-card",{staticClass:"mx-3 scroll",attrs:{height:"300px",color:"teal lighten-4"}},[s("v-card-text",{staticClass:"black--text text-darken-4"},[s("table",t._l(t.portConsoleTxt,function(e,a){return s("tr",{key:a},[">"==e.charAt(1)?s("td",{staticClass:"font-weight-meduim"},[t._v(t._s(e))]):s("td",{staticClass:"red--text text-darken-1 font-weight-meduim"},[t._v(t._s(e))])])}),0)])],1)],1)],1)],1)],1)],1),s("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.editProfileDialog,callback:function(e){t.editProfileDialog=e},expression:"editProfileDialog"}},[s("v-card",[s("v-card-title",{staticClass:"teal darken-2 white--text"},[s("span",{staticClass:"headline"},[t._v("Edit Profile Data")])]),s("v-card-text",[s("InfoFormVue",{ref:"infoFormRef"}),s("v-divider"),s("PassFormVue",{ref:"passFormRef"}),s("v-divider"),s("small",{staticClass:"text--red"},[t._v("All fields are required if they are empty")])],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{color:"teal"},on:{click:function(e){return t.closeEditInfoDialog()}}},[t._v("Close")])],1)],1)],1),s("v-snackbar",{attrs:{timeout:5e3,bottom:"bottom",color:t.snackbarColor,"multi-line":"multi-line"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackbarContent))])],1)},f=[],h=(s("6762"),s("a4bb")),v=s.n(h),p=s("795b"),m=s.n(p),g=s("d225"),b=s("b0b4"),w=s("bc3a"),k=s.n(w),C="api/local/auth/",_=function(){function t(){Object(g["a"])(this,t)}return Object(b["a"])(t,null,[{key:"Login",value:function(t){return new m.a(function(e,s){k.a.post(C+"login",t).then(function(t){e(t.data)}).catch(function(t){t.response?s(t.response.data.failure):t.request?s(t.request):s(t.message)})})}},{key:"Logout",value:function(t){return new m.a(function(e,s){k.a.post(C+"logout",{id:t},{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(){e(!0)}).catch(function(t){t.response?s(t.response.data.failure):t.request?s(t.request):s(t.message)})})}}]),t}(),x=_,y=s("cebc"),S=(s("96cf"),s("3b8d")),P="api/local/agents/",D="api/local/auth/",A=function(){function t(){Object(g["a"])(this,t)}return Object(b["a"])(t,null,[{key:"RefreshToken",value:function(){return new m.a(function(t,e){var s=window.localStorage.getItem("email"),a=window.localStorage.getItem("id"),n=window.localStorage.getItem("refresh_token");k.a.post(D+"token",{email:s,id:a,refresh_token:n}).then(function(e){window.localStorage.setItem("refresh_token",e.data.refresh_token),window.localStorage.setItem("token",e.data.token),t(!0)}).catch(function(t){t.response?e(t.response.data.failure):t.request?e(t.request):e(t.message)})})}},{key:"getAgents",value:function(){var e=window.localStorage.getItem("id");return new m.a(function(){var s=Object(S["a"])(regeneratorRuntime.mark(function s(a,n){return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,k.a.get(P+e,{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){var e=t.data.data;a(e.map(function(t,e){return{index:e,id:t.id,first_name:t.first_name,last_name:t.last_name,email:t.email,is_active:!!t.is_active,is_admin:!!t.is_admin}}))}).catch(function(e){e.response?406==e.response.status?t.RefreshToken().then(function(){a(t.getAgents())}).catch(function(t){n(t)}):n(e.response.data.failure):e.request?n("Check you internet connection!"):n(e.message)});case 2:case"end":return s.stop()}},s,this)}));return function(t,e){return s.apply(this,arguments)}}())}},{key:"deleteAgentById",value:function(e){return new m.a(function(){var s=Object(S["a"])(regeneratorRuntime.mark(function s(a,n){return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,k.a.delete(P+e,{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){a(t.data.success)}).catch(function(s){s.response?406==s.response.status?t.RefreshToken().then(function(){a(t.deleteAgentById(e))}).catch(function(t){n(t)}):n(s.response.data.failure):s.request?n("Check you internet connection!"):n(s.message)});case 2:case"end":return s.stop()}},s,this)}));return function(t,e){return s.apply(this,arguments)}}())}},{key:"createAgent",value:function(e){return new m.a(function(s,a){k.a.post(P+"create",Object(y["a"])({},e),{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){s(t.data.success)}).catch(function(n){n.response?406==n.response.status?t.RefreshToken().then(function(){s(t.createAgent(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"UpdateInformation",value:function(e){return new m.a(function(s,a){k.a.put(P+e.id,e,{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){s(t.data.success)}).catch(function(n){n.response?406==n.response.status?t.RefreshToken().then(function(){s(t.UpdateInformation(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"UpdatePassword",value:function(e){return new m.a(function(s,a){var n=window.localStorage.getItem("id");n?k.a.put(P+"password/"+n,{password:e},{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){s(t.data.success)}).catch(function(n){n.response?406==n.response.status?t.RefreshToken().then(function(){s(t.UpdatePassword(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)}):a("ID is not defined!")})}},{key:"resetAgentPassword",value:function(e){return new m.a(function(s,a){k.a.get(P+"reset/"+e,{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){s(t)}).catch(function(n){n.response?406==n.response.status?t.RefreshToken().then(function(){s(t.resetAgentPassword(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"getRole",value:function(e){return new m.a(function(s,a){k.a.get(P+"role/"+e).then(function(t){s(t)}).catch(function(n){n.response?406==n.response.status?t.RefreshToken().then(function(){s(t.getRole(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"getAgentsCount",value:function(){return new m.a(function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(s,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.post(P+"count").then(function(t){s(t.data.count)}).catch(function(e){e.response?406==e.response.status?t.RefreshToken().then(function(){s(t.getAgentsCount())}).catch(function(t){a(t)}):a(e.response.data.failure):e.request?a("Check you internet connection!"):a(e.message)});case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}())}},{key:"getAdminsCount",value:function(){return new m.a(function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(s,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(P+"admins/count",{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){s(t.data.count)}).catch(function(e){e.response?406==e.response.status?t.RefreshToken().then(function(){s(t.getAdminsCount())}).catch(function(t){a(t)}):a(e.response.data.failure):e.request?a("Check you internet connection!"):a(e.message)});case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}())}}]),t}(),T=A,N="api/local/ports",$=function(){function t(){Object(g["a"])(this,t)}return Object(b["a"])(t,null,[{key:"getConnectedPortsList",value:function(){return new m.a(function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(s,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/").then(function(t){s(t.data)}).catch(function(e){e.response?406==e.response.status?T.RefreshToken().then(function(){s(t.getConnectedPortsList())}).catch(function(t){a(t)}):a(e.response.data.failure):e.request?a("Check you internet connection!"):a(e.message)});case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}())}},{key:"isPortOpen",value:function(e){return new m.a(function(){var s=Object(S["a"])(regeneratorRuntime.mark(function s(a,n){return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,k.a.get(N+"/isOpen",{params:{portName:e}}).then(function(t){a(t.data.isOpen)}).catch(function(s){s.response?406==s.response.status?T.RefreshToken().then(function(){a(t.isPortOpen(e))}).catch(function(t){n(t)}):n(s.response.data.failure):s.request?n("Check you internet connection!"):n(s.message)});case 2:case"end":return s.stop()}},s,this)}));return function(t,e){return s.apply(this,arguments)}}())}},{key:"isPortActive",value:function(e){return new m.a(function(){var s=Object(S["a"])(regeneratorRuntime.mark(function s(a,n){return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,k.a.get(N+"/isActive",{params:{portName:e}}).then(function(t){a(t.data.status)}).catch(function(s){s.response?406==s.response.status?T.RefreshToken().then(function(){a(t.isPortActive(e))}).catch(function(t){n(t)}):n(s.response.data.failure):s.request?n("Check you internet connection!"):n(s.message)});case 2:case"end":return s.stop()}},s,this)}));return function(t,e){return s.apply(this,arguments)}}())}},{key:"isServerActive",value:function(){return new m.a(function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(s,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N+"/draw/isActive").then(function(t){s(t.data.status)}).catch(function(e){e.response?406==e.response.status?T.RefreshToken().then(function(){s(t.isServerActive())}).catch(function(t){a(t)}):a(e.response.data.failure):e.request?a("Check you internet connection!"):a(e.message)});case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}())}},{key:"performFullDrawOperation",value:function(e,s){return new m.a(function(a,n){k.a.post(N+"/draw",{fileName:e,portName:s}).then(function(t){a(t.data)}).catch(function(e){e.response?406==e.response.status?T.RefreshToken().then(function(){a(t.performFullDrawOperation())}).catch(function(t){n(t)}):n(e.response.data):e.request?n("Check you internet connection!"):n(e.message)})})}},{key:"flushPort",value:function(e){return new m.a(function(s,a){k.a.post(N+"/flush",{portName:e}).then(function(t){s(t.data)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.flushPort(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"resumeEmittingPort",value:function(e){return new m.a(function(s,a){k.a.post(N+"/resume",{portName:e}).then(function(t){s(t.data)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.resumeEmittingPort(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"pauseEmittingPort",value:function(e){return new m.a(function(s,a){k.a.post(N+"/pause",{portName:e}).then(function(t){s(t.data)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.pauseEmittingPort(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"pauseSendOperation",value:function(e){return new m.a(function(s,a){k.a.post(N+"/draw/pause",{portName:e}).then(function(t){s(t.data)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.pauseSendOperation(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"resumeSendOperation",value:function(e){return new m.a(function(s,a){k.a.post(N+"/draw/resume",{portName:e}).then(function(t){s(t.data)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.resumeSendOperation(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"stopSendOperation",value:function(e){return new m.a(function(s,a){k.a.post(N+"/draw/stop",{portName:e}).then(function(t){s(t.data)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.stopSendOperation(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"openPort",value:function(e){return new m.a(function(s,a){k.a.post(N+"/open",{portName:e}).then(function(t){s(t.data.success)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.openPort(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"closePort",value:function(e){return new m.a(function(s,a){k.a.post(N+"/close",{portName:e}).then(function(t){s(t.data.success)}).catch(function(n){n.response?406==n.response.status?T.RefreshToken().then(function(){s(t.closePort(e))}).catch(function(t){a(t)}):a(n.response.data.failure):n.request?a("Check you internet connection!"):a(n.message)})})}},{key:"writeToPort",value:function(e,s){return new m.a(function(a,n){k.a.post(N+"/write",{portName:e,data:s}).then(function(t){a(t.data.success)}).catch(function(s){s.response?406==s.response.status?T.RefreshToken().then(function(){a(t.writeToPort(e))}).catch(function(t){n(t)}):n(s.response.data.failure):s.request?n("Check you internet connection!"):n(s.message)})})}}]),t}(),E=$,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-alert",{attrs:{value:t.alert,color:t.alertColor,transition:"fade-transition"}},[t._v(t._s(t.alertContent))]),s("v-card",{staticClass:"ma-0 pa-0",attrs:{color:"transparent elevation-0"}},[s("v-card-text",{staticClass:"ma-0 pa-0"},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.firstNameErrors,counter:50,label:"First Name",required:"",color:"teal"},on:{input:function(e){return t.$v.firstName.$touch()},blur:function(e){return t.$v.firstName.$touch()}},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.lastNameErrors,counter:50,label:"Last Name",required:"",color:"teal"},on:{input:function(e){return t.$v.lastName.$touch()},blur:function(e){return t.$v.lastName.$touch()}},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"error-messages":t.emailErrors,label:"E-mail",required:"",color:"teal"},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"text--teal",attrs:{disabled:!t.isSameData,color:"teal",flat:""},on:{click:function(e){return t.submitInfosUpdateForm()}}},[t._v("Update")])],1)],1)],1)},L=[],j=s("1dce"),I=s("b5ae"),R={mixins:[j["validationMixin"]],validations:{firstName:{required:I["required"],maxLength:Object(I["maxLength"])(50)},lastName:{required:I["required"],maxLength:Object(I["maxLength"])(50)},email:{required:I["required"],email:I["email"]}},data:function(){return{firstName:window.localStorage.getItem("first_name"),lastName:window.localStorage.getItem("last_name"),email:window.localStorage.getItem("email"),alertContent:"",alertColor:"",alert:!1}},computed:{firstNameErrors:function(){var t=[];return this.$v.firstName.$dirty?(!this.$v.firstName.maxLength&&t.push("First Name must be at most 10 characters long"),!this.$v.firstName.required&&t.push("First Name is required."),t):t},lastNameErrors:function(){var t=[];return this.$v.lastName.$dirty?(!this.$v.lastName.maxLength&&t.push("Last Name must be at most 10 characters long"),!this.$v.lastName.required&&t.push("Last Name is required."),t):t},emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push("Must be valid e-mail"),!this.$v.email.required&&t.push("E-mail is required"),t):t}},methods:{submitInfosUpdateForm:function(){var t=this;this.isSameData()||(this.$v.$touch(),this.$v.$invalid||T.UpdateInformation({last_name:this.lastName,first_name:this.firstName,email:this.email,id:window.localStorage.getItem("id")}).then(function(e){window.localStorage.setItem("first_name",t.firstName),window.localStorage.setItem("last_name",t.lastName),window.localStorage.setItem("email",t.email),t.clear(),t.disableAlert(),t.showSuccessAlert(e)}).catch(function(e){t.showErrorAlert(e),t.disableAlert()}))},showSuccessAlert:function(t){this.alert=!0,this.alertColor="success",this.alertContent=t},showErrorAlert:function(t){this.alert=!0,this.alertColor="error",this.alertContent=t},clear:function(){this.$v.$reset(),this.firstName=window.localStorage.getItem("first_name"),this.lastName=window.localStorage.getItem("last_name"),this.email=window.localStorage.getItem("email")},disableAlert:function(){var t=this;setTimeout(function(){t.alert=!1,t.alertContent="",t.alertColor=""},5e3)},isSameData:function(){return this.firstName===window.localStorage.getItem("first_name")&&this.lastName===window.localStorage.getItem("last_name")&&this.email===window.localStorage.getItem("email")}}},q=R,F=Object(o["a"])(q,O,L,!1,null,null,null),Z=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-alert",{attrs:{value:t.alert,color:t.alertColor,transition:"fade-transition"}},[t._v(t._s(t.alertContent))]),s("v-card",{staticClass:"ma-0 pa-0",attrs:{color:"transparent elevation-0"}},[s("v-card-text",{staticClass:"ma-0 pa-0"},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.passwordErrors,counter:0,type:"password",label:"Password",required:"",color:"teal"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.passwordConfirmationErrors,counter:0,type:"password",label:"Confirm Password",required:"",color:"teal"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.passwordConfirmation,callback:function(e){t.passwordConfirmation=e},expression:"passwordConfirmation"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"text--teal",attrs:{disabled:this.$v.$invalid,color:"teal",flat:""},on:{click:function(e){return t.submitPasswordUpdateForm()}}},[t._v("Update")])],1)],1)],1)},U=[],z={mixins:[j["validationMixin"]],validations:{password:{required:I["required"],minLength:Object(I["minLength"])(6)}},data:function(){return{password:"",passwordConfirmation:"",alertContent:"",alertColor:"",alert:!1}},computed:{passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&t.push("Password must be at least 6 caracters"),!this.$v.password.required&&t.push("Password is required"),t):t},passwordConfirmationErrors:function(){var t=[];return this.password!=this.passwordConfirmation&&t.push("Passwords do not matche"),t}},methods:{submitPasswordUpdateForm:function(){var t=this;this.$v.$touch(),this.$v.$invalid||T.UpdatePassword(this.password).then(function(e){t.clear(),t.showSuccessAlert(e),t.disableAlert()}).catch(function(e){t.showErrorAlert(e),t.disableAlert()})},showSuccessAlert:function(t){this.alert=!0,this.alertColor="success",this.alertContent=t},showErrorAlert:function(t){this.alert=!0,this.alertColor="error",this.alertContent=t},clear:function(){this.$v.$reset(),this.password="",this.passwordConfirmation=""},disableAlert:function(){var t=this;setTimeout(function(){t.alert=!1,t.alertContent="",t.alertColor=""},5e3)}}},M=z,G=Object(o["a"])(M,B,U,!1,null,null,null),V=G.exports,W={components:{InfoFormVue:Z,PassFormVue:V},data:function(){return{portsList:[],portsCount:0,fullName:window.localStorage.getItem("last_name").toUpperCase()+" "+window.localStorage.getItem("first_name"),isAdmin:!1,editProfileDialog:!1,drawer:!0,right:null,snackbarContent:"",snackbarColor:"",snackbar:!1,doShowPortPanel:!1,selectedPortObject:void 0,flushPortDis:!0,pausePortDis:!0,resumePortDis:!0,openPortDis:!1,closePortDis:!0,writeToPortTextField:"",writeToPortProgress:!1,writeToPortProgressValue:"",isOnActiveBinded:!1,isOnPortDataBinded:!1,pusher:void 0,portsChannel:void 0,portConsoleTxt:[]}},sockets:{connect:function(){},onPortsListChanged:function(t){this.onActiveCallback(t)},onSinglePortData:function(t){this.onSinglePortDataCallback(t)}},methods:{onSinglePortDataCallback:function(t){this.portConsoleTxt.unshift("-> data received: "+t.data)},onActiveCallback:function(t){this.portsCount=v()(t).length;for(var e=[],s=0;s<this.portsCount;s++)e.push(t[s+1]);void 0==this.selectedPortObject||e.includes(this.selectedPortObject)||(this.showErrorSnackbar("".concat(this.selectedPortObject.comName," is not active anymore")),this.doShowPortPanel=!1,this.selectedPortObject=void 0),this.portsList=e},performLogout:function(){var t=this,e=localStorage.getItem("id");x.Logout(e).then(function(){window.localStorage.setItem("isConnected",!1),//! remove data from local storage
window.localStorage.removeItem("id"),window.localStorage.removeItem("first_name"),window.localStorage.removeItem("last_name"),window.localStorage.removeItem("email"),window.localStorage.removeItem("token"),window.localStorage.removeItem("refresh_token"),t.isConnected=!1,t.$router.replace("/login")}).catch(function(e){t.showErrorSnackbar(e)})},pausePort:function(t){var e=this;this.portConsoleTxt.unshift("-> Pause emitting data on port: "+t),E.pauseEmittingPort(t).then(function(t){e.portConsoleTxt.unshift("-> Emitting data on port is paused"),e.resumePortDis=!1,//! means enable btn
e.pausePortDis=!0,//! means disable btn
e.showSuccessSnackbar(t.success)}).catch(function(t){e.portConsoleTxt.unshift("Error occurred: "+t),e.showErrorSnackbar(t)})},resumePort:function(t){var e=this;this.portConsoleTxt.unshift("-> Resume emitting data on port: "+t),E.resumeEmittingPort(t).then(function(t){e.portConsoleTxt.unshift("-> Emitting data on port is resumed"),e.pausePortDis=!1,e.resumePortDis=!0,e.showSuccessSnackbar(t.success)}).catch(function(t){e.portConsoleTxt.unshift("Error occurred: "+t),e.showErrorSnackbar(t)})},flushPort:function(t){var e=this;this.portConsoleTxt.unshift("-> Flushing data on port: "+t),E.flushPort(t).then(function(t){e.portConsoleTxt.unshift("-> Data is flushed"),e.showSuccessSnackbar(t.success)}).catch(function(t){e.portConsoleTxt.unshift("Error occurred: "+t),e.showErrorSnackbar(t)})},openPort:function(t){var e=this;this.portConsoleTxt.unshift("-> Opening port: "+t),E.openPort(t).then(function(t){e.portConsoleTxt.unshift("-> Port is opened"),e.showSuccessSnackbar(t),e.openPortDis=!0,e.resumePortDis=!0,e.closePortDis=!1,e.pausePortDis=!1,e.flushPortDis=!1}).catch(function(t){e.portConsoleTxt.unshift("Error occurred: "+t),e.showErrorSnackbar(t)})},closePort:function(t){var e=this;this.portConsoleTxt.unshift("-> Closing port: "+t),E.closePort(t).then(function(t){e.portConsoleTxt.unshift("-> Port is closed"),e.showSuccessSnackbar(t),e.openPortDis=!1,e.resumePortDis=!0,e.closePortDis=!0,e.pausePortDis=!0,e.flushPortDis=!0}).catch(function(t){e.portConsoleTxt.unshift("Error occurred: "+t),e.showErrorSnackbar(t)})},sendCommandToPort:function(t){var e=this;""!=this.writeToPortTextField&&void 0!=this.writeToPortTextField?(this.portConsoleTxt.unshift("Writing: "+this.writeToPortTextField),E.writeToPort(t,this.writeToPortTextField+"\r").then(function(t){e.writeToPortTextField="",e.showSuccessSnackbar(t)}).catch(function(t){e.portConsoleTxt.unshift("Error occurred: "+t),e.showErrorSnackbar(t)})):this.showErrorSnackbar("Can NOT send empty data!!")},showPortPanel:function(t){var e=this;this.selectedPortObject=t,E.isPortOpen(t.comName).then(function(s){e.isSelectedPortOpened=s,E.isPortActive(t.comName).then(function(t){t&&(e.flushPortDis=!0,e.pausePortDis=!0,e.resumePortDis=!0,e.openPortDis=!0,e.closePortDis=!0)}).catch(function(t){e.showErrorSnackbar("Error while checking port activeness status!"+t)}),s?(e.openPortDis=!0,e.closePortDis=!1):(e.openPortDis=!1,e.closePortDis=!0)}).catch(function(t){e.showErrorSnackbar("Error while checking port open status!"+t)}),this.doShowPortPanel=!0},clearPortConsole:function(){this.portConsoleTxt=[]},showSuccessSnackbar:function(t){this.snackbar=!0,this.snackbarColor="success",this.snackbarContent=t},showErrorSnackbar:function(t){this.snackbar=!0,this.snackbarColor="error",this.snackbarContent=t},closeEditInfoDialog:function(){this.editProfileDialog=!1,this.$refs.passFormRef.$v.$reset(),this.$refs.infoFormRef.$v.$reset()},launcheEditProfile:function(){this.editProfileDialog=!0}},
//! DON'T use arrow functions here
created:function(){var t=this,e=window.localStorage.getItem("id");T.getRole(e).then(function(e){t.isAdmin=e.data.result}).catch(function(e){t.showErrorSnackbar(e)}),E.getConnectedPortsList().then(function(e){t.portsCount=e.count,0!=e.count&&(t.portsList=e.ports)}).catch(function(e){t.showErrorSnackbar(e)})}},H=W,J=(s("cccb"),Object(o["a"])(H,d,f,!1,null,null,null)),Y=J.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-content",[s("v-container",{staticClass:"teal lighten-5",attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs11:"",sm8:"",md5:""}},[s("v-card",{staticClass:"teal lighten-4 elevation-8"},[s("v-img",{attrs:{"aspect-ratio":16/9,src:t.url}}),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{"error-messages":t.emailErrors,label:"E-mail",required:"",color:"teal darken-5",outline:"",clearable:"","prepend-inner-icon":"fas fa-at"},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{"error-messages":t.passwordErrors,counter:0,type:"password",label:"Password",clearable:"",required:"",color:"teal darken-5","prepend-inner-icon":"fas fa-lock",outline:""},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"teal--text",attrs:{color:"white"},on:{click:t.submit}},[t._v("Login")])],1)],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:5e3,bottom:"bottom",color:t.snackbarColor,"multi-line":"multi-line"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackbarContent))])],1)},Q=[],X={mixins:[j["validationMixin"]],validations:{email:{required:I["required"],email:I["email"]},password:{required:I["required"],minLength:Object(I["minLength"])(6)}},data:function(){return{url:s("b16d"),drawer:null,email:"",password:"",snackbarContent:"",snackbar:!1,snackbarColor:""}},props:{source:String},computed:{emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push("Must be valid e-mail"),!this.$v.email.required&&t.push("E-mail is required"),t):t},passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&t.push("Password must be at least 6 caracters"),!this.$v.password.required&&t.push("Password is required"),t):t}},mounted:function(){"true"===localStorage.getItem("isConnected")&&this.$router.replace("/")},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||x.Login({email:this.email,password:this.password}).then(function(e){window.localStorage.setItem("isConnected",!0),window.localStorage.setItem("token",e.token),window.localStorage.setItem("refresh_token",e.refresh_token),window.localStorage.setItem("id",e.agent.id),window.localStorage.setItem("email",e.agent.email),window.localStorage.setItem("last_name",e.agent.last_name),window.localStorage.setItem("first_name",e.agent.first_name),t.$router.replace("/")}).catch(function(e){t.snackbarColor="error",t.snackbarContent=e,t.snackbar=!0})}}},tt=X,et=Object(o["a"])(tt,K,Q,!1,null,null,null),st=et.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{staticClass:"pb-1 mb-0",attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[s("v-card",{staticClass:"teal lighten-5 mx-1"},[s("v-card-text",{staticClass:"pt-2 pb-0"},[s("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":"","py-2":""}},[s("v-badge",{attrs:{color:"transparent"},scopedSlots:t._u([{key:"badge",fn:function(){return[s("v-icon",{attrs:{large:"",color:"teal darken-5"}},[t._v("fas fa-crown")])]},proxy:!0}])},[s("h1",{staticClass:"j-count-style teal--text"},[t._v(t._s(t.adminsCount))])])],1)],1),s("v-card-actions",{staticClass:"pt-0 pb-1"},[s("v-spacer"),s("h1",{staticClass:"font-weight-meduim green--text text--lighten-2"},[t._v("Administrators")]),s("v-spacer")],1)],1)],1),s("v-flex",{staticClass:"pb-1 mb-0",attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[s("v-card",{staticClass:"teal lighten-5 mx-1"},[s("v-card-text",{staticClass:"pt-2 pb-0"},[s("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":"","py-2":""}},[s("v-badge",{attrs:{color:"transparent"},scopedSlots:t._u([{key:"badge",fn:function(){return[s("v-icon",{attrs:{large:"",color:"teal darken-5"}},[t._v("fas fa-hard-hat")])]},proxy:!0}])},[s("h1",{staticClass:"j-count-style teal--text"},[t._v(t._s(t.agentsCount))])])],1)],1),s("v-card-actions",{staticClass:"pt-0 pb-1"},[s("v-spacer"),s("h1",{staticClass:"font-weight-meduim green--text text--lighten-2"},[t._v("Agents")]),s("v-spacer")],1)],1)],1),s("v-flex",{staticClass:"pb-1 mb-0",attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[s("v-card",{staticClass:"teal lighten-5 mx-1"},[s("v-card-text",{staticClass:"pt-2 pb-0"},[s("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":"","py-2":""}},[s("v-badge",{attrs:{color:"transparent"},scopedSlots:t._u([{key:"badge",fn:function(){return[s("v-icon",{attrs:{large:"",color:"teal darken-5"}},[t._v("fas fa-recycle")])]},proxy:!0}])},[s("h1",{staticClass:"j-count-style teal--text"},[t._v(t._s(t.conversionsCount))])])],1)],1),s("v-card-actions",{staticClass:"pt-0 pb-1"},[s("v-spacer"),s("h1",{staticClass:"font-weight-meduim green--text text--lighten-2"},[t._v("Conversions")]),s("v-spacer")],1)],1)],1),s("v-flex",{staticClass:"pb-1 mb-0",attrs:{xs12:"",sm12:"",md3:"",lg3:""}},[s("v-card",{staticClass:"teal lighten-5 mx-1"},[s("v-card-text",{staticClass:"pt-2 pb-0"},[s("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":"","py-2":""}},[s("v-badge",{attrs:{color:"transparent"},scopedSlots:t._u([{key:"badge",fn:function(){return[s("v-icon",{attrs:{large:"",color:0!=t.activePortsCount?"teal darken-5":"red lighten-2"}},[t._v("fas fa-parking")])]},proxy:!0}])},[s("h1",{staticClass:"j-count-style teal--text"},[t._v(t._s(t.activePortsCount))])])],1)],1),s("v-card-actions",{staticClass:"pt-0 pb-1"},[s("v-spacer"),s("h1",{staticClass:"font-weight-meduim green--text text--lighten-2"},[t._v("Connected Ports")]),s("v-spacer")],1)],1)],1)],1)},nt=[],rt="api/local/images",ot=function(){function t(){Object(g["a"])(this,t)}return Object(b["a"])(t,null,[{key:"ConvertImage",value:function(e){return new m.a(function(){var s=Object(S["a"])(regeneratorRuntime.mark(function s(a,n){return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,k.a.post(rt+"/convert",e,{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){a(t.data.data)}).catch(function(s){s.response?406==s.response.status?T.RefreshToken().then(function(){a(t.ConvertImage(e))}).catch(function(t){n(t)}):n(s.response.data.failure):s.request?n("Check you internet connection!"):n(s.message)});case 2:case"end":return s.stop()}},s,this)}));return function(t,e){return s.apply(this,arguments)}}())}},{key:"getConversionsCount",value:function(){return new m.a(function(){var e=Object(S["a"])(regeneratorRuntime.mark(function e(s,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(rt+"/count",{headers:{Authorization:"Bearer "+window.localStorage.token}}).then(function(t){s(t.data.count)}).catch(function(e){e.response?406==e.response.status?T.RefreshToken().then(function(){s(t.getConversionsCount())}).catch(function(t){a(t)}):a(e.response.data.failure):e.request?a("Check you internet connection!"):a(e.message)});case 2:case"end":return e.stop()}},e,this)}));return function(t,s){return e.apply(this,arguments)}}())}}]),t}(),it=ot,ct={name:"dashboard",data:function(){return{adminsCount:0,agentsCount:0,conversionsCount:0,activePortsCount:0,snackbarContent:"",snackbarColor:"",snackbar:!1}},sockets:{connect:function(){},onPortsListChanged:function(t){this.onPortsListChangedCallback(t)}},methods:{onPortsListChangedCallback:function(t){this.activePortsCount=v()(t).length},showSuccessSnackbar:function(t){this.snackbar=!0,this.snackbarColor="success",this.snackbarContent=t},showErrorSnackbar:function(t){this.snackbar=!0,this.snackbarColor="error",this.snackbarContent=t}},created:function(){var t=this;it.getConversionsCount().then(function(e){t.conversionsCount=e,T.getAdminsCount().then(function(e){t.adminsCount=e}).catch(function(e){t.adminsCount="NaN",t.showErrorSnackbar(e)}),T.getAgentsCount().then(function(e){t.agentsCount=e}).catch(function(e){t.agentsCount="NaN",t.showErrorSnackbar(e)})}).catch(function(e){t.conversionsCount="NaN",t.showErrorSnackbar(e)})}},lt=ct,ut=(s("2b56"),Object(o["a"])(lt,at,nt,!1,null,null,null)),dt=ut.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[s("v-toolbar",{attrs:{color:"teal lighten-1",dark:""}},[s("v-toolbar-title",[t._v(t._s(t.title))]),s("v-spacer"),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{icon:""},on:{click:t.mounteAgentsTableComponent}},e.on),[s("v-icon",[t._v("fas fa-list-alt")])],1)]}}])},[s("span",[t._v("list of all the agents")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{icon:""},on:{click:t.mounteAddAgentComponent}},e.on),[s("v-icon",[t._v("fas fa-plus-circle")])],1)]}}])},[s("span",[t._v("add new agnet")])])],1),s(t.currentComponent,{tag:"v-card"})],1)},ht=[],vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"pt-3"},[s("v-alert",{staticClass:"mx-3",attrs:{value:!0,color:"teal darken-1",icon:"check_circle"}},[t._v("Here you can find the list of all the users of the system, both agnets and admins, with there status of activeness")]),s("v-card-title",[s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{attrs:{headers:t.headers,items:t.agents,search:t.search,loading:t.loading,"item-key":"index"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[s("v-badge",{attrs:{right:"",color:"transparent"},scopedSlots:t._u([{key:"badge",fn:function(){return[1==e.item.is_admin?s("span",[s("v-icon",{attrs:{"x-small":"",color:"teal darken-3"}},[t._v("fas fa-crown")])],1):s("span",[s("v-icon",{attrs:{"x-small":"",color:"teal"}},[t._v("fas fa-hard-hat")])],1)]},proxy:!0}],!0)},[t._v("\n          "+t._s(e.item.index)+"\n        ")])],1),e.item.is_active?s("td",{staticClass:"text-lg-center"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-chip",t._g({attrs:{small:"","text-color":"teal darken-2"}},e.on),[s("v-icon",{attrs:{small:""}},[t._v("fas fa-eye")])],1)]}}],!0)},[s("span",[t._v("Agent is active")])])],1):s("td",{staticClass:"text-lg-center"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-chip",t._g({attrs:{small:"","text-color":"grey darken-2"}},e.on),[s("v-icon",{attrs:{small:""}},[t._v("fas fa-eye-slash")])],1)]}}],!0)},[s("span",[t._v("Agent is not active")])])],1),s("td",[t._v(t._s(e.item.first_name))]),s("td",[t._v(t._s(e.item.last_name.toUpperCase()))]),s("td",[t._v(t._s(e.item.email))]),s("td",[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){return[s("v-btn",t._g({attrs:{icon:""},on:{click:function(s){return t.resetPassword(e.item.id)}}},a.on),[s("v-icon",{attrs:{small:"",color:"teal darken-2"}},[t._v("fas fa-power-off")])],1)]}}],!0)},[s("span",[t._v("Reset The Password Of This User Account")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){return[s("v-btn",t._g({attrs:{icon:""},on:{click:function(s){return t.showConfirmDeleteDialog(e.item.id)}}},a.on),[s("v-icon",{attrs:{small:"",color:"red darken-2"}},[t._v("fas fa-user-minus")])],1)]}}],!0)},[s("span",[t._v("Delete This User Account")])])],1)]}}])},[s("v-progress-linear",{attrs:{slot:"progress",color:"teal",indeterminate:""},slot:"progress"}),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('Your search for "'+t._s(t.search)+'" found no results.')])],1),s("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.confirmeDeleteDialog,callback:function(e){t.confirmeDeleteDialog=e},expression:"confirmeDeleteDialog"}},[s("v-card",{attrs:{color:"white",dark:""}},[s("v-card-title",{staticClass:"error white--text headline"},[t._v("Agent Delete Confirmation")]),s("v-divider"),s("v-card-text",{staticClass:"font-weight-bold black--text"},[t._v("Are you sure you want to delete agent?")]),s("v-card-actions",[s("v-btn",{staticClass:"grey--text lighten-1",attrs:{flat:""},on:{click:function(e){return t.cancelConfirmDeleteDialog()}}},[t._v("Cancel")]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{color:"red lighten-1"},on:{click:function(e){return t.deleteAgent()}}},[t._v("Delete")])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{color:"white",dark:""}},[s("v-card-title",{staticClass:"teal white--text headline"},[t._v("Reset Agent Password")]),s("v-divider"),s("v-card-text",{staticClass:"font-weight-bold teal--text"},[t._v("\n        "+t._s(t.dialogContent)+"\n        "),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white",active:t.loadingPass}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"teal--text",attrs:{flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Ok")])],1)],1)],1),s("v-snackbar",{attrs:{timeout:5e3,bottom:"bottom",color:t.snackbarColor,"multi-line":"multi-line"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackbarContent))])],1)},pt=[],mt={data:function(){return{search:"",dialog:!1,dialogContent:"Please stand by",loadingPass:!0,loading:!0,confirmeDeleteDialog:!1,headers:[{text:"#",value:"index"},{text:"Activeness",value:"is_active"},{text:"First Name",value:"first_name"},{text:"Last Name",value:"last_name"},{text:"Email",value:"email"},{text:"Operations",value:"delete"}],agents:[],selectedAgentId:-1,snackbarContent:"",snackbarColor:"",snackbar:!1}},created:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.refrechAgentsList();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{refrechAgentsList:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.getAgents().then(function(t){e.agents=t,e.loading=!1}).catch(function(t){e.snackbar=!0,e.snackbarColor="error",e.snackbarContent=t,e.loading=!1});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showConfirmDeleteDialog:function(t){this.confirmeDeleteDialog=!0,this.selectedAgentId=t},cancelConfirmDeleteDialog:function(){this.confirmeDeleteDialog=!1,this.selectedAgentId=-1},deleteAgent:function(){var t=this;-1==this.selectedAgentId?this.showErrorSnackbar("Invalide agent id!"):T.deleteAgentById(this.selectedAgentId).then(function(e){t.cancelConfirmDeleteDialog(),//! judt to hide it
t.agents=[],t.showSuccessSnackbar(e),t.refrechAgentsList()}).catch(function(e){t.showErrorSnackbar(e),t.loading=!1})},resetPassword:function(t){var e=this;this.dialog=!0,T.resetAgentPassword(t).then(function(t){e.loadingPass=!1,e.snackbar=!0,e.snackbarColor="success",e.snackbarContent=t.data.success,e.dialogContent="The New Password is: "+t.data.password}).catch(function(t){e.snackbar=!0,e.snackbarColor="error",e.snackbarContent=t})},showSuccessSnackbar:function(t){this.snackbar=!0,this.snackbarColor="success",this.snackbarContent=t},showErrorSnackbar:function(t){this.snackbar=!0,this.snackbarColor="error",this.snackbarContent=t}}},gt=mt,bt=Object(o["a"])(gt,vt,pt,!1,null,null,null),wt=bt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{ref:"form"},[s("v-card-text",{staticClass:"mt-0 pt-3"},[s("v-alert",{staticClass:"mx-3",attrs:{value:!0,color:"teal darken-1",icon:"check_circle"}},[t._v('You can create a new agnets and assign admin priviliges to them by checking the box "Add as admin"')]),s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.firstNameErrors,counter:50,label:"First Name",required:"",color:"teal darken-1"},on:{input:function(e){return t.$v.firstName.$touch()},blur:function(e){return t.$v.firstName.$touch()}},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.lastNameErrors,counter:50,label:"Last Name",required:"",color:"teal darken-1"},on:{input:function(e){return t.$v.lastName.$touch()},blur:function(e){return t.$v.lastName.$touch()}},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{"error-messages":t.emailErrors,label:"E-mail",required:"",color:"teal darken-1"},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.passwordErrors,counter:0,type:"password",label:"Password",required:"",color:"teal darken-1"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"error-messages":t.passwordConfirmationErrors,counter:0,type:"password",label:"Confirm Password",required:"",color:"teal darken-1"},on:{input:function(e){return t.$v.password.$touch()},blur:function(e){return t.$v.password.$touch()}},model:{value:t.passwordConfirmation,callback:function(e){t.passwordConfirmation=e},expression:"passwordConfirmation"}})],1),s("v-flex",{attrs:{sm12:"",md12:"",lg7:""}},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-checkbox",t._g({attrs:{color:"teal darken-3"},scopedSlots:t._u([{key:"label",fn:function(){return[s("div",[t._v("Add as admin")])]},proxy:!0}],!0),model:{value:t.isAdminCheckbox,callback:function(e){t.isAdminCheckbox=e},expression:"isAdminCheckbox"}},a))]}}])},[t._v("\n            Give admin priviliges to the newly created agent\n          ")])],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-btn",{staticClass:"text--teal",attrs:{color:"teal",flat:""},on:{click:t.clear}},[t._v("Clear")]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{color:"teal"},on:{click:t.submit}},[t._v("Submit")])],1),s("v-snackbar",{attrs:{timeout:5e3,bottom:"bottom",color:t.snackbarColor,"multi-line":"multi-line"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackbarContent))])],1)},Ct=[],_t={mixins:[j["validationMixin"]],validations:{firstName:{required:I["required"],maxLength:Object(I["maxLength"])(50)},lastName:{required:I["required"],maxLength:Object(I["maxLength"])(50)},email:{required:I["required"],email:I["email"]},password:{required:I["required"],minLength:Object(I["minLength"])(6)}},data:function(){return{firstName:"",lastName:"",email:"",password:"",passwordConfirmation:"",snackbarContent:"",isAdminCheckbox:!1,snackbarColor:"",snackbar:!1}},computed:{firstNameErrors:function(){var t=[];return this.$v.firstName.$dirty?(!this.$v.firstName.maxLength&&t.push("First Name must be at most 10 characters long"),!this.$v.firstName.required&&t.push("First Name is required."),t):t},lastNameErrors:function(){var t=[];return this.$v.lastName.$dirty?(!this.$v.lastName.maxLength&&t.push("Last Name must be at most 10 characters long"),!this.$v.lastName.required&&t.push("Last Name is required."),t):t},emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push("Must be valid e-mail"),!this.$v.email.required&&t.push("E-mail is required"),t):t},passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.minLength&&t.push("Password must be at least 6 caracters"),!this.$v.password.required&&t.push("Password is required"),t):t},passwordConfirmationErrors:function(){var t=[];return this.password!=this.passwordConfirmation&&t.push("Passwords do not matche"),t}},methods:{submit:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$invalid){t.next=4;break}return t.next=4,T.createAgent({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,is_admin:this.isAdminCheckbox}).then(function(t){e.snackbar=!0,e.snackbarContent=t,e.snackbarColor="success",e.clear()}).catch(function(t){e.snackbar=!0,e.snackbarColor="error",e.snackbarContent=t,e.loading=!1});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),clear:function(){this.$v.$reset(),this.firstName="",this.lastName="",this.email="",this.password="",this.passwordConfirmation="",this.isAdminCheckbox=!1}}},xt=_t,yt=Object(o["a"])(xt,kt,Ct,!1,null,null,null),St=yt.exports,Pt={data:function(){return{title:"Agents List",disableAddBtn:!0,currentComponent:wt}},methods:{mounteAddAgentComponent:function(){this.title="Add New Agent",this.currentComponent=St},mounteAgentsTableComponent:function(){this.title="Agents List",this.currentComponent=wt}}},Dt=Pt,At=Object(o["a"])(Dt,ft,ht,!1,null,null,null),Tt=At.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-alert",{attrs:{value:t.isTransmissionProcessActive,type:"error"}},[t._v("There is already a process going on, so you can't use this page again until that process is finished")]),s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg8:"","pa-1":""}},[s("v-card",[s("v-card-text",[s("input",{ref:"selectImageRef",staticStyle:{display:"none"},attrs:{type:"file",accept:".png, .jpg, .jpeg"},on:{change:t.fileIsSelected}}),s("div",{attrs:{id:"preview"}},[t.url?s("img",{attrs:{src:t.url}}):t._e()])]),s("v-card-actions",[s("v-btn",{attrs:{flat:"",disabled:t.isConversionActive||t.isTransmissionProcessActive,color:"teal darken-4"},on:{click:t.clear}},[t._v("Clear")]),s("v-spacer"),s("v-fade-transition",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:null==t.selectedFile,expression:"selectedFile == null"}],staticClass:"white--text",attrs:{color:"teal",disabled:t.isTransmissionProcessActive||t.isConversionActive},on:{click:function(e){return t.$refs.selectImageRef.click()}}},[t._v("Select")])],1)],1)],1)],1),s("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg4:"","pa-1":""}},[s("v-card",[s("v-card-title",[s("v-alert",{attrs:{value:!0,dismissibale:"",transition:"scale-transition",type:"warning"}},[t._v("\n            Tweak these parameters as long as you know what you are doing,\n            or leave them by default\n          ")])],1),s("v-card-text",[s("v-container",{attrs:{fluid:"","grid-list-lg":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-subheader",{staticClass:"pl-0"},[t._v("Tool Diameter")]),s("v-slider",{attrs:{color:"teal","thumb-label":"always",min:"0",max:"3",step:"0.01"},model:{value:t.toolDiameter,callback:function(e){t.toolDiameter=e},expression:"toolDiameter"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-subheader",{staticClass:"pl-0"},[t._v("Sensitivity")]),s("v-slider",{attrs:{color:"teal","thumb-label":"always",min:"0",max:"1",step:"0.01"},model:{value:t.sensitivity,callback:function(e){t.sensitivity=e},expression:"sensitivity"}})],1),s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"Scale Axes",type:"number"},on:{focus:function(e){t.scaleAccessSnackbar=!0},focusout:function(e){t.scaleAccessSnackbar=!1}},model:{value:t.scaleAxes,callback:function(e){t.scaleAxes=e},expression:"scaleAxes"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"Deep Step",type:"number"},model:{value:t.deepStep,callback:function(e){t.deepStep=e},expression:"deepStep"}})],1)],1),s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"White Z",type:"number"},model:{value:t.whiteZ,callback:function(e){t.whiteZ=e},expression:"whiteZ"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"Black Z",type:"number"},model:{value:t.blackZ,callback:function(e){t.blackZ=e},expression:"blackZ"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"Safe Z",type:"number"},model:{value:t.safeZ,callback:function(e){t.safeZ=e},expression:"safeZ"}})],1)],1),t._v("Feed Rate\n            "),s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"Work",type:"number"},model:{value:t.work,callback:function(e){t.work=e},expression:"work"}})],1),s("v-flex",{attrs:{xs12:"",sm12:"",md6:"",lg6:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{label:"Idle",type:"number"},model:{value:t.idle,callback:function(e){t.idle=e},expression:"idle"}})],1)],1)],1)],1),s("v-card-actions",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{flat:""},on:{click:t.restoreDefaultValues}},e.on),[s("v-icon",{attrs:{color:"teal"}},[t._v("fas fa-undo-alt")])],1)]}}])},[s("span",[t._v("Restor default values for all the parameters")])]),s("v-spacer"),s("v-fade-transition",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:!t.showConversionBtn,expression:"!showConversionBtn"}],attrs:{disabled:t.isTransmissionProcessActive||t.isConversionActive,flat:""},on:{click:t.performConversion}},e.on),[s("v-icon",{attrs:{color:"teal"}},[t._v("fas fa-sync")])],1)]}}])},[s("span",[t._v("Start conversion process")])])],1)],1)],1)],1)],1),1==t.displayRsultes?s("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.displayRsultes,expression:"displayRsultes"}],attrs:{"justify-center":"",row:"",wrap:"","pa-1":""}},[s("v-flex",{attrs:{"d-flex":"",xs12:""}},[s("v-toolbar",{attrs:{color:"teal",dark:"",card:"",dense:""}},[s("v-toolbar-title",[t._v("Conversion Results")]),s("v-spacer"),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("more_vert")])],1),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showResultsPanel=!t.showResultsPanel}}},[s("v-icon",[t._v(t._s(t.showResultsPanel?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1)],1),s("v-flex",{attrs:{"d-flex":"",xs12:""}},[s("v-fade-transition",[s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.showResultsPanel,expression:"showResultsPanel"}]},[s("v-card-text",[s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md3:"",lg3:"","px-1":""}},[s("v-card",{staticClass:"white--text elevation-5 mb-1",attrs:{color:"teal lighten-1"}},[s("v-card-text",{staticClass:"d-flex"},[s("table",[s("header",{staticClass:"font-weight-bold py-2"},[t._v("Conversion Prameters")]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Tool Diameter")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldtoolDiameter)+" mm")])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Sensitivity")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldsensitivity)+" mm")])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Scale Axes")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldscaleAxes)+" mm")])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Deep Step")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.olddeepStep)+" mm")])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Black Z")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldblackZ))])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("White Z")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldwhiteZ))])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Safe Z")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldsafeZ))])]),s("tr",[s("td",{staticClass:"font-weight-meduim"},[t._v("Safe Z")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.oldsafeZ))])])])])],1)],1),s("v-flex",{attrs:{xs12:"",sm12:"",md5:"",lg5:"","px-1":""}},[s("v-card",{staticClass:"white--text elevation-5 mb-1",attrs:{color:"teal lighten-1"}},[s("v-card-text",{staticClass:"d-flex"},[s("table",[s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Image Size:")]),s("td",{staticClass:"align-end"},[t._v(t._s(t.imegSize))])])])])],1),s("v-card",{staticClass:"white--text elevation-5 mb-1",attrs:{color:"teal lighten-1"}},[s("v-card-text",{staticClass:"d-flex"},[s("table",[s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Started at")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.startTime))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Ended at")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.endTime))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Elapsed Time")]),s("td",{staticClass:"align-center"},[t._v(t._s(t.elapsedTime)+" seconds")])])])])],1),s("v-card",{staticClass:"white--text elevation-5 my-1",attrs:{color:"teal lighten-1"}},[s("v-card-text",{staticClass:"d-flex pb-4"},[s("table",[s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("File Name")]),s("td",{staticClass:"align-end"},[t._v(t._s(t.fileName))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Size")]),s("td",{staticClass:"align-end"},[t._v(t._s(t.size)+" Mb")])])])])],1)],1),s("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:"","px-1":""}},[s("v-card",{staticClass:"white--text elevation-5",attrs:{color:"teal lighten-1"}},[s("v-card-text",{staticClass:"d-flex"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-progress-circular",t._g({attrs:{rotate:360,size:220,width:10,value:t.value,color:"white"}},e.on),[t._v(t._s(t.value))])]}}])},[s("span",[t._v("The percentage of the proccessed black pixels in the picture")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-progress-circular",t._g({attrs:{rotate:360,size:150,width:10,value:t.errorValue,color:"red lighten-1"}},e.on),[t._v(t._s(t.errorValue))])]}}])},[s("span",[t._v("The percentage of the unproccessed black pixels in the picture")])])],1)],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({staticClass:"teal--text",attrs:{flat:"",disabled:t.isTransmissionProcessActive},on:{click:function(e){return t.initializeDrawOperation()}}},e.on),[s("v-icon",{attrs:{left:"",dark:""}},[t._v("fas fa-draw-polygon")]),t._v("Draw\n                ")],1)]}}])},[s("span",[t._v("Send generated gcode to machine")])])],1)],1)],1)],1)],1):t._e(),1==t.consolesArea?s("v-layout",{attrs:{"justify-center":"",row:"",wrap:"","pa-1":""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","mb-2":""}},[s("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:""}},[s("v-toolbar",{attrs:{color:"teal",dark:"",dense:""}},[s("v-toolbar-title",[t._v("Transmission Process Console")]),s("v-spacer"),void 0!=t.port?s("div",[s("v-tooltip",{attrs:{disabled:t.stopSendDis,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{disabled:t.stopSendDis,icon:""},on:{click:function(e){return t.stopSendOperation()}}},e.on),[s("v-icon",[t._v("fas fa-stop-circle")])],1)]}}])},[s("span",[t._v("Stop sending gcode lines to port")])]),s("v-tooltip",{attrs:{disabled:t.resumeSendDis,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{disabled:t.resumeSendDis,icon:""},on:{click:function(e){return t.resumeSendOperation()}}},e.on),[s("v-icon",[t._v("fas fa-play-circle")])],1)]}}])},[s("span",[t._v("Resume sending gcode lines to port")])]),s("v-tooltip",{attrs:{disabled:t.pauseSendDis,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{disabled:t.pauseSendDis,icon:""},on:{click:function(e){return t.pauseSendOperation()}}},e.on),[s("v-icon",[t._v("fas fa-pause-circle")])],1)]}}])},[s("span",[t._v("Pause sending gcode lines port")])])],1):t._e(),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.clearTransmissionConsole()}}},e.on),[s("v-icon",[t._v("fas fa-eraser")])],1)]}}])},[s("span",[t._v("Clear the console")])]),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showTranmsissionConsole=!t.showTranmsissionConsole}}},[s("v-icon",[t._v(t._s(t.showTranmsissionConsole?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1)],1),s("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:""}},[s("v-fade-transition",[s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.showTranmsissionConsole,expression:"showTranmsissionConsole"}],staticClass:"scroll",attrs:{color:"teal lighten-4",height:"300px"}},[s("v-card-text",{staticClass:"teal--text darken-4"},[s("table",t._l(t.transmissionConsoleTxt,function(e,a){return s("tr",{key:a,staticClass:"font-weight-medium"},[s("td",{staticClass:"red--text darken-1"},[t._v(t._s(e.split("|")[0]))]),s("td",[t._v(t._s("->"+e.split("|")[1]))])])}),0)])],1)],1)],1)],1)],1),s("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-toolbar",{attrs:{color:"teal",dark:"",dense:""}},[s("v-toolbar-title",[t._v("Port Data Console")]),s("v-spacer"),void 0!=t.port?s("div",[s("v-tooltip",{attrs:{disabled:t.flushPortDis,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{disabled:t.flushPortDis,icon:""},on:{click:function(e){return t.flushPort()}}},e.on),[s("v-icon",[t._v("fas fa-times-circle")])],1)]}}])},[s("span",[t._v("Flush both incoming and outgoing data on the port")])]),s("v-tooltip",{attrs:{disabled:t.resumePortDis,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{disabled:t.resumePortDis,icon:""},on:{click:function(e){return t.resumePort()}}},e.on),[s("v-icon",[t._v("fas fa-play-circle")])],1)]}}])},[s("span",[t._v("Resume all incoming data on the port")])]),s("v-tooltip",{attrs:{disabled:t.pausePortDis,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{disabled:t.pausePortDis,icon:""},on:{click:function(e){return t.pausePort()}}},e.on),[s("v-icon",[t._v("fas fa-pause-circle")])],1)]}}])},[s("span",[t._v("Pause all incoming data on the port")])])],1):t._e(),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[s("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.clearPortConsole()}}},e.on),[s("v-icon",[t._v("fas fa-eraser")])],1)]}}])},[s("span",[t._v("Clear the console")])]),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.showPortConsole=!t.showPortConsole}}},[s("v-icon",[t._v(t._s(t.showPortConsole?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1)],1),s("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md12:"",lg12:""}},[s("v-fade-transition",[s("v-card",{directives:[{name:"show",rawName:"v-show",value:t.showPortConsole,expression:"showPortConsole"}],staticClass:"scroll",attrs:{color:"teal lighten-4",height:"300px"}},[s("v-card-text",{staticClass:"teal--text darken-4"},[s("table",t._l(t.portConsoleTxt,function(e,a){return s("tr",{key:a,staticClass:"font-weight-medium"},[s("td",{staticClass:"red--text darken-1"},[t._v(t._s(e.split("|")[0]))]),s("td",[t._v(t._s(" "+e.split("|")[1]))])])}),0)])],1)],1)],1)],1)],1)],1):t._e(),s("v-dialog",{attrs:{persistent:"",width:"700px"},model:{value:t.portsListDialog,callback:function(e){t.portsListDialog=e},expression:"portsListDialog"}},[s("v-card",[s("v-card-title",{staticClass:"teal darken-4 py-4 title white--text"},[t._v("GCode File Transmission")]),s("v-card-text",{staticClass:"py-0 px-0"},[t.portsListProgress?s("v-progress-linear",{attrs:{indeterminate:!0,color:"teal"}}):t._e(),s("v-container",{attrs:{"grid-list-sm":""}},[s("v-alert",{staticClass:"mb-2",attrs:{value:!0,type:"info"}},[t._v("This operation will send the generated gcode file to the machine over the selected port and it will start drawing the coordinates the process will take to much time (1s for each line of code), you can monitor the whole process and the incoming data from the console below.")]),s("p",{staticClass:"title"},[t._v("Chose port:")]),s("v-alert",{attrs:{value:t.isTransmissionProcessActive,type:"warning"}},[t._v("There is already a transmission process going on")]),s("v-fade-transition",[0!==t.portsList.length?s("v-list",t._l(t.portsList,function(e,a){return s("v-list-tile",{key:a,attrs:{disabled:t.isTransmissionProcessActive},on:{click:function(s){return t.startTransmitingGCode(e.comName)}}},[s("v-list-tile-content",[s("v-list-tile-title",{staticClass:"font-weight-bold"},[t._v(t._s(e.comName))]),s("v-list-tile-sub-title",{staticClass:"font-weight-medium font-italic"},[t._v(t._s(e.manufacturer))])],1)],1)}),1):s("v-list",[s("v-alert",{attrs:{value:!0,type:"error"}},[t._v("No port is connected!")])],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{flat:"",color:"teal"},on:{click:function(e){t.portsListDialog=!1}}},[t._v("Cancel")])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",{attrs:{color:"teal",dark:""}},[s("v-card-title",{staticClass:"font-weight-bold"},[t._v("Starting Conversion Process")]),s("v-card-text",[t._v("The process of converting an image into GCode takes a considerable amount of time, so be patient")]),s("v-divider"),s("v-card-actions",[s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),s("v-snackbar",{attrs:{timeout:0,bottom:"bottom",color:"teal darkren-4","multi-line":"multi-line"},model:{value:t.scaleAccessSnackbar,callback:function(e){t.scaleAccessSnackbar=e},expression:"scaleAccessSnackbar"}},[t._v("For Scale Axes use the height value of the image, you can multiply it by a number to apply scale up, or divide it by a number to apply scale down")]),s("v-snackbar",{attrs:{timeout:5e3,bottom:"bottom",color:t.snackbarColor,"multi-line":"multi-line"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackbarContent))])],1)},$t=[],Et=(s("28a5"),s("f499")),Ot=s.n(Et),Lt=(s("7f7f"),s("2fdb"),s("5118")),jt={data:function(){return{displayRsultes:!0,showResultsPanel:!0,selectedFile:null,url:s("113c"),showConversionBtn:!0,isConversionActive:!1,dialog:!1,progress:1,toolDiameter:1,sensitivity:.95,scaleAxes:0,deepStep:-1,blackZ:-2,whiteZ:0,safeZ:1,work:1200,idle:3e3,fileName:"sm-sample",size:0,link:null,oldtoolDiameter:1,oldsensitivity:.95,oldscaleAxes:0,olddeepStep:-1,oldblackZ:-2,oldwhiteZ:0,oldsafeZ:1,oldwork:1200,oldidle:3e3,imegSize:"NAN",startTime:null,endTime:null,elapsedTime:0,value:0,errorValue:0,snackbarContent:"",snackbarColor:"",snackbar:!1,scaleAccessSnackbarColor:"info",scaleAccessSnackbar:!1,portsListDialog:!1,displayPortConsole:!0,portsList:[],portsListProgress:!0,portConsoleTxt:[],port:void 0,displayTransmissionConsole:!0,transmissionConsoleTxt:[],showTranmsissionConsole:!0,isTransmissionProcessActive:!1,consolesArea:!1,showPortConsole:!0,stopSendDis:!0,pauseSendDis:!0,resumeSendDis:!0,flushPortDis:!1,pausePortDis:!1,resumePortDis:!0}},sockets:{connect:function(){},onPortData:function(t){this.onPortDataCallback(t.data)},onTransmissionLog:function(t){this.onTransmissionLogCallback(t.data)}},created:function(){var t=this;window.addEventListener("beforeunload",function(e){return t.handleOnBeforeUnload(e)}),E.isServerActive().then(function(e){t.isTransmissionProcessActive=e}).catch(function(e){t.showErrorSnackbar(e)})},methods:{onPortDataCallback:function(t){0==t.length||this.portConsoleTxt.unshift(t)},onTransmissionLogCallback:function(t){0==t.length||(this.transmissionConsoleTxt.unshift(t),t.includes("All lines has been sent")&&(this.showSuccessSnackbar("Transmission of file "+this.fileName+" Has been completed"),this.isTransmissionProcessActive=!1))},handleOnBeforeUnload:function(t){(this.isTransmissionProcessActive||this.isConversionActive)&&(t.preventDefault(),t.returnValue="")},fileIsSelected:function(t){this.selectedFile=t.target.files[0],this.url=URL.createObjectURL(this.selectedFile),this.showConversionBtn=!1},clear:function(){this.selectedFile=null,this.url=s("113c"),this.showConversionBtn=!0,this.displayRsultes=!1,this.consolesArea=!1,this.clearPortConsole(),this.clearTransmissionConsole()},restoreDefaultValues:function(){this.toolDiameter=1,this.sensitivity=.95,this.scaleAxes=0,this.deepStep=-1,this.blackZ=-2,this.whiteZ=0,this.safeZ=1,this.work=1200,this.idle=3e3},performConversion:function(){var t=this;if(0==this.scaleAxes)this.showErrorSnackbar("Scale Axes Should Not Be Equale to Zero (0), Use Image Height");else if(null!=this.selectedFile){this.dialog=!0;var e=new FormData;e.append("image",this.selectedFile,this.selectedFile.name),e.append("parameters",Ot()({toolDiameter:this.toolDiameter,sensitivity:this.sensitivity,scaleAxes:this.scaleAxes,deepStep:this.deepStep,blackZ:this.blackZ,whiteZ:this.whiteZ,safeZ:this.safeZ,work:this.work,idle:this.idle})),this.isConversionActive=!0,it.ConvertImage(e).then(function(e){t.isConversionActive=!1,t.displayRsultes=!0,t.dialog=!1,t.oldtoolDiameter=e.toolDiameter,t.oldsensitivity=e.sensitivity,t.oldscaleAxes=e.scaleAxes,t.olddeepStep=e.deepStep,t.oldwhiteZ=e.whiteZ,t.oldblackZ=e.blackZ,t.oldsafeZ=e.safeZ,t.oldwork=e.feedrate.work,t.oldidle=e.feedrate.idle,t.value=Math.round(100-e.errBlackPixel),t.errorValue=Math.round(e.errBlackPixel),t.imegSize=e.imgSize,t.fileName=e.fileName,t.startTime=e.startTime,t.endTime=e.endTime,t.elapsedTime=e.elapsedTime.toFixed(2),t.size=e.size.toFixed(2)}).catch(function(e){t.isConversionActive=!1,t.dialog=!1,t.showErrorSnackbar(e),t.loading=!1})}else this.showErrorSnackbar("No Image is Selected")},initializeDrawOperation:function(){var t=this;this.portsListDialog=!0,E.getConnectedPortsList().then(function(e){t.portsListProgress=!1,t.isTransmissionProcessActive=e.isServerActive,0!==e.count&&(t.portsList=e.ports)}).catch(function(e){t.portsListProgress=!1,t.portsListDialog=!1,t.showErrorSnackbar(e)})},startTransmitingGCode:function(t){var e=this;this.consolesArea=!0,this.port=t,void 0!==this.fileName&&""!==this.fileName?Object(Lt["setTimeout"])(function(){e.consolesArea=!0,E.performFullDrawOperation("sm-sample",t).then(function(t){e.pauseSendDis=!1,e.stopSendDis=!1,e.portsListDialog=!1,e.pausePortDis=!1,e.flushPortDis=!1,e.isTransmissionProcessActive=!0,e.showSuccessSnackbar(t.success)}).catch(function(t){e.portsListDialog=!1,e.port=void 0,e.pausePortDis=!0,e.flushPortDis=!0,e.showErrorSnackbar(t.failure.split(":")[1]),e.portConsoleTxt.push("Operation: "+t.operation+"|"),e.portConsoleTxt.push("Message: "+t.failure+"|"),t.isPortClosed&&e.portConsoleTxt.push(" Closed|")})},500):(this.portsListDialog=!1,this.showErrorSnackbar("Gcode file name is missing!"))},pausePort:function(){var t=this;this.port?E.pauseEmittingPort(this.port).then(function(e){t.resumePortDis=!1,//! means enable btn
t.pausePortDis=!0,//! means disable btn
t.showSuccessSnackbar(e.success)}).catch(function(e){t.showErrorSnackbar(e)}):this.showErrorSnackbar("No port is defined")},resumePort:function(){var t=this;this.port?E.resumeEmittingPort(this.port).then(function(e){t.pausePortDis=!1,t.resumePortDis=!0,t.showSuccessSnackbar(e.success)}).catch(function(e){t.showErrorSnackbar(e)}):this.showErrorSnackbar("No port is defined")},flushPort:function(){var t=this;this.port?E.flushPort(this.port).then(function(e){t.showSuccessSnackbar(e.success)}).catch(function(e){t.showErrorSnackbar(e)}):this.showErrorSnackbar("No port is defined")},stopSendOperation:function(){var t=this;this.port?E.stopSendOperation(this.port).then(function(e){t.pauseSendDis=!0,t.resumeSendDis=!0,t.stopSendDis=!0,t.isTransmissionProcessActive=!1,t.showSuccessSnackbar(e.success)}).catch(function(e){t.showErrorSnackbar(e)}):this.showErrorSnackbar("No operation is running, port is undefined")},pauseSendOperation:function(){var t=this;this.port?E.pauseSendOperation(this.port).then(function(e){t.resumeSendDis=!1,t.pauseSendDis=!0,t.showSuccessSnackbar(e.success)}).catch(function(e){t.showErrorSnackbar(e)}):this.showErrorSnackbar("No operation is running, port is undefined")},resumeSendOperation:function(){var t=this;this.port?E.resumeSendOperation(this.port).then(function(e){t.pauseSendDis=!1,t.resumeSendDis=!0,t.showSuccessSnackbar(e.success)}).catch(function(e){t.showErrorSnackbar(e)}):this.showErrorSnackbar("No operation is running, port is undefined")},clearPortConsole:function(){this.portConsoleTxt=[]},clearTransmissionConsole:function(){this.transmissionConsoleTxt=[]},showSuccessSnackbar:function(t){this.snackbar=!0,this.snackbarColor="success",this.snackbarContent=t},showErrorSnackbar:function(t){this.snackbar=!0,this.snackbarColor="error",this.snackbarContent=t}}},It=jt,Rt=(s("c41d"),Object(o["a"])(It,Nt,$t,!1,null,null,null)),qt=Rt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md4:"",lg4:"","pa-2":""}},[s("v-toolbar",{staticClass:"teal white--text",attrs:{card:""}},[s("h2",[t._v("Resources Directory Tree")])]),s("v-card",{staticClass:"scroll",attrs:{height:"900"}},[s("v-card-text",[s("v-progress-linear",{attrs:{indeterminate:t.inProgress}}),s("v-treeview",{attrs:{items:t.items},scopedSlots:t._u([{key:"prepend",fn:function(e){var a=e.item;return[a.children?s("v-icon",{attrs:{color:"teal"}},[t._v("fas fa-folder")]):"image"===a.type?s("v-icon",{attrs:{color:"teal lighten-2"},on:{click:function(e){return t.displayImage(a.name,a.path)}}},[t._v("fas fa-image")]):"gcode"===a.type?s("v-icon",{attrs:{color:"teal lighten-2"},on:{click:function(e){return t.displayGcodeLines(a.name,a.path)}}},[t._v("fas fa-file-code")]):"log"===a.type?s("v-icon",{attrs:{color:"teal lighten-2"},on:{click:function(e){return t.displayLogFile(a.name,a.path)}}},[t._v("fas fa-file-alt")]):t._e()]}}])})],1)],1)],1),s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.imageDialog,callback:function(e){t.imageDialog=e},expression:"imageDialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"teal lighten-1"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.imageDialog=!1}}},[s("v-icon",[t._v("close")])],1),s("v-toolbar-title",[t._v(t._s(t.currentFileName))]),s("v-spacer"),s("v-toolbar-items",[s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.imageDialog=!1}}},[t._v("Save")])],1)],1),s("v-card-text",[s("div",{attrs:{id:"preview"}},[s("img",{attrs:{src:t.imageURL}})])])],1)],1),s("v-fade-transition",[s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.doShowDisplayCard,expression:"doShowDisplayCard"}],attrs:{xs12:"",sm12:"",md8:"",lg8:"","pa-2":""}},[s("v-toolbar",{staticClass:"teal white--text",attrs:{card:""}},[s("h2",[t._v(t._s(t.currentFileName))])]),s("v-card",{staticClass:"scroll",attrs:{height:"842",color:"teal lighten-5"}},[0!=t.gcodeData.length?s("v-card-text",[s("table",t._l(t.gcodeData,function(e,a){return s("tr",{key:a,staticClass:"font-weight-medium"},[s("td",{staticClass:"font-weight-light black--text px-2"},[t._v(t._s(a+1))]),";"==e.charAt(0)?s("div",[s("td",{staticClass:"grey--text"},[t._v(t._s(e))])]):s("div",[s("td",{staticClass:"teal--text"},[t._v(t._s(e.split(";")[0]))]),void 0!=e.split(";")[1]?s("td",{staticClass:"grey--text"},[t._v(";"+t._s(e.split(";")[1]))]):t._e()])])}),0)]):0!=t.logData.length?s("v-card-text",[s("table",t._l(t.logData,function(e,a){return s("tr",{key:a,staticClass:"font-weight-medium"},[s("td",{staticClass:"font-weight-light red--text px-2"},[t._v(t._s(e.split("|")[0]))]),s("td",{staticClass:"teal--text"},[t._v(t._s(e.split("|")[1]))])])}),0)]):t._e()],1),s("v-card-actions",{staticClass:"teal lighten-5 elevation-3 mt-1"},[s("v-btn",{staticClass:"teal--text text--darken-2",attrs:{flat:"",disabled:!t.doShowLoadingBtns},on:{click:function(e){return t.loadMoreLines()}}},[t._v("Load more lines")]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{color:"teal",disabled:!t.doShowLoadingBtns},on:{click:function(e){return t.loadAllLines()}}},[t._v("Load All")])],1)],1)],1)],1)},Zt=[],Bt=s("75fc"),Ut=s("e814"),zt=s.n(Ut),Mt=(s("ac6a"),"api/local/files"),Gt=function(){function t(){Object(g["a"])(this,t)}return Object(b["a"])(t,null,[{key:"getDirectoryTree",value:function(){return new m.a(function(t,e){k.a.get(Mt+"/").then(function(e){t(e.data)}).catch(function(s){s.response?406==s.response.status?T.RefreshToken().then(function(){t(T.getDirectoryTree())}).catch(function(t){e(t)}):e(s.response.data.failure):s.request?e("Check you internet connection!"):e(s.message)})})}},{key:"getImageData",value:function(t){return new m.a(function(e,s){k.a.get(Mt+"/display",{params:{path:t}}).then(function(t){e(t.data)}).catch(function(a){a.response?406==a.response.status?T.RefreshToken().then(function(){e(T.getImageData(t))}).catch(function(t){s(t)}):s(a.response.data.failure):a.request?s("Check you internet connection!"):s(a.message)})})}},{key:"getFileLines",value:function(t){return new m.a(function(e,s){k.a.get(Mt+"/download",{params:{path:t}}).then(function(t){e(t.data)}).catch(function(a){a.response?406==a.response.status?T.RefreshToken().then(function(){e(T.getFileLines(t))}).catch(function(t){s(t)}):s(a.response.data.failure):a.request?s("Check you internet connection!"):s(a.message)})})}}]),t}(),Vt=Gt,Wt={data:function(){return{items:[{id:1,name:"Images",children:[]},{id:2,name:"Gcode Files",children:[]},{id:3,name:"Output",children:[]}],inProgress:!1,currentFileName:void 0,imageURL:void 0,imageDialog:!1,gcodeData:[],fullGcodeData:[],logData:[],fullLogData:[],stoppedIn:0,logURL:void 0,snackbarContent:"",snackbarColor:"",snackbar:!1}},computed:{doShowDisplayCard:function(){return 0!=this.gcodeData.length||0!=this.logData.length},doShowLoadingBtns:function(){return this.stoppedIn<this.fullGcodeData.length||this.stoppedIn<this.fullLogData.length}},created:function(){this.getResourcesDirDetails()},methods:{getResourcesDirDetails:function(){var t=this;Vt.getDirectoryTree().then(function(e){var s=e.Images,a=e.Gcodes,n=e.Outputs,r=[];v()(s).forEach(function(t){r.push({id:zt()(t),name:s[t].name,type:"image",path:s[t].path})}),t.items[0].children=r,r=[],v()(a).forEach(function(t){r.push({id:zt()(t),name:a[t].name,type:"gcode",path:a[t].path})}),t.items[1].children=r,r=[],v()(n).forEach(function(t){var e=[];v()(n[t].content).forEach(function(s){e.push({id:zt()(s),name:n[t].content[s].name,type:0==s?"log":"gcode",path:n[t].content[s].path})}),r.push({id:zt()(t),name:n[t].name,children:e})}),t.items[2].children=r}).catch(function(e){t.showErrorSnackbar(e)})},displayImage:function(t,e){var s=this;this.imageDialog=!0,this.currentFileName=t,Vt.getImageData(e).then(function(t){s.inProgress=!1,s.imageURL="data:image/"+t.ext+";base64,"+t.data}).catch(function(t){s.inProgress=!1,s.showErrorSnackbar(t)})},displayGcodeLines:function(t,e){var s=this;this.inProgress=!0,this.currentFileName=t,this.logData=[],this.fullLogData=[],Vt.getFileLines(e).then(function(t){s.inProgress=!1,s.fullGcodeData=t.fileLines,s.gcodeData=s.fullGcodeData.slice(0,100),s.stoppedIn=100}).catch(function(t){s.inProgress=!1,s.showErrorSnackbar(t)})},displayLogFile:function(t,e){var s=this;this.currentFileName=t,this.gcodeData=[],this.fullGcodeData=[],this.inProgress=!0,Vt.getFileLines(e).then(function(t){s.inProgress=!1,s.fullLogData=t.fileLines,s.logData=s.fullLogData.slice(0,100),s.stoppedIn=100}).catch(function(t){s.inProgress=!1,s.showErrorSnackbar(t)})},loadMoreLines:function(){var t=this.stoppedIn+100;if(this.currentFileName.includes(".log")){var e,s=this.fullLogData.slice(this.stoppedIn,t);(e=this.logData).push.apply(e,Object(Bt["a"])(s))}else if(this.currentFileName.includes(".gcode")){var a,n=this.fullGcodeData.slice(this.stoppedIn,t);(a=this.gcodeData).push.apply(a,Object(Bt["a"])(n))}this.stoppedIn=t},loadAllLines:function(){if(this.currentFileName.includes(".log")){var t,e=this.fullLogData.slice(this.stoppedIn);(t=this.logData).push.apply(t,Object(Bt["a"])(e)),this.stoppedIn=this.fullLogData.length}else if(this.currentFileName.includes(".gcode")){var s,a=this.fullGcodeData.slice(this.stoppedIn);(s=this.gcodeData).push.apply(s,Object(Bt["a"])(a)),this.stoppedIn=this.fullGcodeData.length}},showSuccessSnackbar:function(t){this.snackbar=!0,this.snackbarColor="success",this.snackbarContent=t},showErrorSnackbar:function(t){this.snackbar=!0,this.snackbarColor="error",this.snackbarContent=t}}},Ht=Wt,Jt=(s("6025"),Object(o["a"])(Ht,Ft,Zt,!1,null,null,null)),Yt=Jt.exports;a["default"].use(u["a"]);var Kt=new u["a"]({routes:[{path:"/",name:"home",component:Y,meta:{requireAuth:!0},children:[{path:"dashboard",component:dt},{path:"agents",component:Tt},{path:"images",component:qt},{path:"resources",component:Yt}]},{path:"/login",name:"login",component:st}]});Kt.beforeEach(function(t,e,s){if(t.matched.some(function(t){return t.meta.requireAuth})){var a=window.localStorage.getItem("isConnected");"true"===a?s():Kt.replace("/login")}else s()});var Qt=Kt,Xt=s("2f62");a["default"].use(Xt["a"]);var te=new Xt["a"].Store({state:{},mutations:{},actions:{}}),ee=s("ce5b"),se=s.n(ee),ae=s("f87c"),ne=s("8055"),re=s.n(ne);s("bf40");a["default"].use(se.a),a["default"].use(ae["a"],re()("http://localhost:3000")),a["default"].config.productionTip=!1,new a["default"]({router:Qt,store:te,render:function(t){return t(l)}}).$mount("#app")},6025:function(t,e,s){"use strict";var a=s("7f4a"),n=s.n(a);n.a},"7f4a":function(t,e,s){},b16d:function(t,e,s){t.exports=s.p+"img/machine.60d351e8.jpg"},c41d:function(t,e,s){"use strict";var a=s("f6d4"),n=s.n(a);n.a},cccb:function(t,e,s){"use strict";var a=s("d563"),n=s.n(a);n.a},d563:function(t,e,s){},f6d4:function(t,e,s){}});
//# sourceMappingURL=app.256b0cd9.js.map